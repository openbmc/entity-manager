{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "746074d3_93206a95",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-07-02T18:18:55Z",
      "side": 1,
      "message": "I\u0027m ok with this, but these naming schemes are Meta specified but the components are off-the-shelf devices.  We might not be able to change the sensor names like this.\n\nAlexander was potentially working on a method to overwrite common-device configs on a per-machine basis, which could be leveraged in the future.  Until that is in, unless this naming change is acceptable upstream, we might need to keep these as a patch downstream.",
      "revId": "f2f2a17c1f4b9a903dc5b6798468ab4ef3426ab2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8eab2cce_1e0dc810",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-07-03T08:33:37Z",
      "side": 1,
      "message": "CompatibleHardware + config record includes could be abused to make this possible.\n\nhttps://gerrit.openbmc.org/c/openbmc/entity-manager/+/79657\nhttps://gerrit.openbmc.org/c/openbmc/entity-manager/+/77496\n\nBut it\u0027s not really the best use for it since an EM config still describes a piece of hardware. Config record includes were meant to cover the use-case for board variants, but renaming a sensor is not a hardware variant. It would be possible but there might be pushback.\n\nAlternatively, Meta could propose a naming scheme for sensor names and document it in EM repo?\n\n@ed@tanous.net @spinler@us.ibm.com Do you have any input on the sensor names?\n\nhttps://www.dmtf.org/sites/default/files/standards/documents/DSP2049_0.2.2b.pdf\n\ncould be used as the starting point since it already defines some sensor names from the redfish side.",
      "parentUuid": "746074d3_93206a95",
      "revId": "f2f2a17c1f4b9a903dc5b6798468ab4ef3426ab2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b58739aa_5c25ea02",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-07-03T15:21:59Z",
      "side": 1,
      "message": "Yes, the config record includes is what I was thinking of.  I don\u0027t think Meta should be dictating a \"consistent\" sensor naming schema.",
      "parentUuid": "8eab2cce_1e0dc810",
      "revId": "f2f2a17c1f4b9a903dc5b6798468ab4ef3426ab2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c79c9663_e639e326",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-07-03T16:27:56Z",
      "side": 1,
      "message": "\u003e I don\u0027t think Meta should be dictating a \"consistent\" sensor naming schema.\n\nNot dictating, more like\n\n\"if you want a guideline on how to name this sensor, here is a sane solution\"\n\nA document like that could provide guidance in case people want to modify common configs.\n\nAnd provide some guarantees for people that if they edit common configs, it is acceptable to adjust the names to match the conventional style.\n\nOtherwise tomorrow HPE (or someone else) comes along to edit ```cx7_ocp.json``` to fit their naming preference and then your downstream patch breaks ðŸ˜„",
      "parentUuid": "b58739aa_5c25ea02",
      "revId": "f2f2a17c1f4b9a903dc5b6798468ab4ef3426ab2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "95581547_875656a3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-13T00:28:38Z",
      "side": 1,
      "message": "\u003e Do you have any input on the sensor names?\n\nOriginal intent of EM was that it follow the naming convention put in this patch.\n\n\"NIC 1 Temperature\" which is what humans read.  Since then lots of companies have used EM files as their canvas for applying naming conventions, in some extremes even modifying the EM code (downstream) to allow applying naming conventions that weren\u0027t even supported and would cause backward compatibility issues.\n \nI\u0027m not in love with trying to prescribe any one companies naming convention in these files, but unfortunately they do define the external (redfish/IPMI) API names currently.  I\u0027d much prefer that we have one consistent human facing way of representing the files, and intelligent conversion functions if we need to apply \"Meta naming\" or \"Nvidia naming\" conventions to things that differs.\n\nBut how much that matters?  I\u0027m not willing to spend effort on it, so I\u0027ll accept whatever naming everyone can agree on.  I will say I\u0027m not a fan of the \"whomever checked it in first wins\" approach and would like to see some consistency here, but consistency is hard.",
      "parentUuid": "c79c9663_e639e326",
      "revId": "f2f2a17c1f4b9a903dc5b6798468ab4ef3426ab2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6e3d1c6c_9f3efe7a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-12-17T13:53:10Z",
      "side": 1,
      "message": "\u003e \"NIC 1 Temperature\" which is what humans read. \n\nWe (Meta) don\u0027t have humans.  ðŸ˜Š\n\nEverything goes through automation and unfortunately our internal team has a \"sensor schema we want to see\".  This is easy for content under `configurations/meta` but is obviously less easy for stuff outside there.\n\n\u003e I will say I\u0027m not a fan of the \"whomever checked it in first wins\" approach and would like to see some consistency here, but consistency is hard.\n\nI agree with the sentiment and would like to see consistency.  I think there is some value in \"first mover gets preference\" though when we\u0027re the ones putting in the effort to do everything upstream.  We\u0027ve even contributed most of the configs for Nvidia hardware.\n\nI brought up @alexander.hansen@9elements.com \u0027s work because Meta has been contracting with 9E to improve the situation here with this exact problem in mind.  There has been work in this direction but I don\u0027t think the [upstream] reception has been great.\n\nI\u0027m fine with holding downstream patches for stuff that is in common use (like Nvidia parts) but I don\u0027t think we should need to hold downstream patches when we seem to be the only one using the config (as is the case of the Broadcomm ones) and we\u0027re the ones expending the effort on both ends of this problem: contributing the hardware configs and trying to enhance EM to have vendor/platform-specific tweaks.\n\nAs soon as Alexander\u0027s work is in an acceptable state, I\u0027m good with us refactoring every sensor to be a \"human-oriented name\" if that\u0027s what you want and then the Meta-schema can be handled with his work.",
      "parentUuid": "95581547_875656a3",
      "revId": "f2f2a17c1f4b9a903dc5b6798468ab4ef3426ab2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d8270f6d_b11c041c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2026-02-13T18:22:15Z",
      "side": 1,
      "message": "\u003e \u003e \"NIC 1 Temperature\" which is what humans read. \n\u003e \n\u003e We (Meta) don\u0027t have humans.  ðŸ˜Š\n\nGot it, I\u0027m talking to an LLM ðŸ˜Š\n\n\u003e \n\u003e Everything goes through automation and unfortunately our internal team has a \"sensor schema we want to see\".  This is easy for content under `configurations/meta` but is obviously less easy for stuff outside there.\n\nYep, and I sympathize with that.  Nvidia has the same, as does Intel, as does Google.  At an EM level, naming is intended to be common to OpenBMC and consensus based.  Maybe in a meta layer we add some kind of \"meta renames to this\" mapping table so meta/nvidia/intel can have power to rename their things at will?\n\nThat sounds like what \"Alexander was potentially working on a method to overwrite common-device configs on a per-machine basis\" means, so I\u0027m in full support.\n\n\u003e \n\u003e \u003e I will say I\u0027m not a fan of the \"whomever checked it in first wins\" approach and would like to see some consistency here, but consistency is hard.\n\u003e \n\u003e I agree with the sentiment and would like to see consistency.  I think there is some value in \"first mover gets preference\" though when we\u0027re the ones putting in the effort to do everything upstream.  We\u0027ve even contributed most of the configs for Nvidia hardware.\n\u003e \n\u003e I brought up @alexander.hansen@9elements.com \u0027s work because Meta has been contracting with 9E to improve the situation here with this exact problem in mind.  There has been work in this direction but I don\u0027t think the [upstream] reception has been great.\n\nSome of the problem here is that this patch isn\u0027t an improvement, I would say it\u0027s going backwards from consistency.  I don\u0027t think anything else names these this way.\n\n\u003e \n\u003e I\u0027m fine with holding downstream patches for stuff that is in common use (like Nvidia parts) but I don\u0027t think we should need to hold downstream patches when we seem to be the only one using the config (as is the case of the Broadcomm ones) and we\u0027re the ones expending the effort on both ends of this problem: contributing the hardware configs and trying to enhance EM to have vendor/platform-specific tweaks.\n\u003e \n\u003e As soon as Alexander\u0027s work is in an acceptable state, I\u0027m good with us refactoring every sensor to be a \"human-oriented name\" if that\u0027s what you want and then the Meta-schema can be handled with his work.\n\nHuman readable is what I want for the simple reason that I can review it for correctness, that APIs like Redfish \"require\" it, and it\u0027s relatively easy to explain without having to read boatloads of documentation.  I don\u0027t know Metas naming policy, I don\u0027t know AMIs naming policy, and I know Googles naming policy breaks DBus (and requires patched downstream workarounds to that effect).\n\nAdding underscores here actually doesn\u0027t change the dbus path, so at that level it should be noop to keep the spaes.\n\nIf we do the mapping infra right, we can also make the rules relatively resistant to change.  \"Meta likes underscores instead of spaces\" could be codified.  \"Nvidia prefers Fan capitalized as FAN\", and things of that nature.\n\nBack to this patch, from a consistency standpoint, this is a regression, but you\u0027re right, Meta are the only ones that use this device at the moment.  This is not a hill I\u0027m going to stand on and block, because progress is better than consistency.  Remove the underscores (because those aren\u0027t required) and this patch can go.",
      "parentUuid": "6e3d1c6c_9f3efe7a",
      "revId": "f2f2a17c1f4b9a903dc5b6798468ab4ef3426ab2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1c8c9efd_13cfcba9",
        "filename": "configurations/brcm_200g_1p_ocp_mezz.json",
        "patchSetId": 2
      },
      "lineNbr": 15,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-13T00:28:38Z",
      "side": 1,
      "message": "Names shouldn\u0027t include underscores.",
      "range": {
        "startLine": 15,
        "startChar": 28,
        "endLine": 15,
        "endChar": 29
      },
      "revId": "f2f2a17c1f4b9a903dc5b6798468ab4ef3426ab2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a8adf34f_d01b809d",
        "filename": "configurations/brcm_200g_1p_ocp_mezz.json",
        "patchSetId": 2
      },
      "lineNbr": 15,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-12-17T13:53:10Z",
      "side": 1,
      "message": "We\u0027ve named all of our sensors this way.",
      "parentUuid": "1c8c9efd_13cfcba9",
      "range": {
        "startLine": 15,
        "startChar": 28,
        "endLine": 15,
        "endChar": 29
      },
      "revId": "f2f2a17c1f4b9a903dc5b6798468ab4ef3426ab2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fa44d983_37f002a2",
        "filename": "configurations/brcm_200g_1p_ocp_mezz.json",
        "patchSetId": 2
      },
      "lineNbr": 15,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2026-02-13T18:22:15Z",
      "side": 1,
      "message": "Spaces are replaced with underscores when constructing the dbus path already, so the dbus path should be what you expect (with underscores) without defining them here.",
      "parentUuid": "a8adf34f_d01b809d",
      "range": {
        "startLine": 15,
        "startChar": 28,
        "endLine": 15,
        "endChar": 29
      },
      "revId": "f2f2a17c1f4b9a903dc5b6798468ab4ef3426ab2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a04511ee_a0ad7429",
        "filename": "configurations/cx7_ocp.json",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-07-03T08:33:37Z",
      "side": 1,
      "message": "Why the `_C` ?\n\nWhy are we making the sensor unit part of the sensor name?\n\nThe sensor value interface already provides the unit.",
      "revId": "f2f2a17c1f4b9a903dc5b6798468ab4ef3426ab2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1198dcaa_c0c3cfcd",
        "filename": "configurations/cx7_ocp.json",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-07-03T15:21:59Z",
      "side": 1,
      "message": "That\u0027s just how our internal teams at Meta have previously specified the schema for sensors.  All the sensors for all the servers end up in a big database that people can run queries against and there is a common schema for those names to make it easier to run similar queries against different platforms.",
      "parentUuid": "a04511ee_a0ad7429",
      "revId": "f2f2a17c1f4b9a903dc5b6798468ab4ef3426ab2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c97c4cbf_1763d5f3",
        "filename": "configurations/cx7_ocp.json",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-07-03T16:27:56Z",
      "side": 1,
      "message": "Changing the name will break anyone who had this exact use-case (storing the values in a database) since their sensor name will change.\n\nAlso it will break folks who are testing their redfish response to contain exactly this sensor name which they expect to be present.\n\nAnd likely a different user of this config will have a different naming scheme.\n\nSome may like to name the sensor the same as in the schematics.\n\nNothing is stable in this complete mess ðŸ˜„\n\n\nThat being said, my question is answered (thanks!), i do not have anything for or against this change, but a documented naming convention would be nice.\n\nThis could even be in ```configurations/meta/SENSOR_NAMES.md```, just to point people towards \u0027something\u0027.\n\nIf upstream does not come up with some alternative, at least there is some reference in the repo with a rationale for how meta go to the point of suffixing units onto sensor names ðŸ˜„, and why that\u0027s part of some common configs.",
      "parentUuid": "1198dcaa_c0c3cfcd",
      "revId": "f2f2a17c1f4b9a903dc5b6798468ab4ef3426ab2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}