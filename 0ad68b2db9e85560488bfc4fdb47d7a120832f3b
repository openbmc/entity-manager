{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "86910989_354a4a26",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-08T23:48:19Z",
      "side": 1,
      "message": "What DBUS property uses ERROR (in all caps)?",
      "range": {
        "startLine": 11,
        "startChar": 1,
        "endLine": 11,
        "endChar": 6
      },
      "revId": "0ad68b2db9e85560488bfc4fdb47d7a120832f3b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "37dd15e1_d9169a0d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1002762
      },
      "writtenOn": "2025-12-11T09:15:41Z",
      "side": 1,
      "message": "Before: \"ERROR\" was treated as a valid probe token, causing false positives.\nAfter: \"ERROR\" is no longer matched; only defined tokens are recognized. No standard D-Bus property uses \"ERROR\"—it’s a message type, so treating it as a probe token was incorrect.",
      "parentUuid": "86910989_354a4a26",
      "range": {
        "startLine": 11,
        "startChar": 1,
        "endLine": 11,
        "endChar": 6
      },
      "revId": "0ad68b2db9e85560488bfc4fdb47d7a120832f3b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "256bb958_476ded4c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-12T23:00:22Z",
      "side": 1,
      "message": "You misunderstand, I\u0027m not aware of any interface that uses ERROR in its probe string.  Is that something you\u0027ve added?\n\nThis patch is fine on its own, I just don\u0027t understand how this bug was found.",
      "parentUuid": "37dd15e1_d9169a0d",
      "range": {
        "startLine": 11,
        "startChar": 1,
        "endLine": 11,
        "endChar": 6
      },
      "revId": "0ad68b2db9e85560488bfc4fdb47d7a120832f3b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "681c45bd_850bfb90",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1002762
      },
      "writtenOn": "2025-12-15T04:00:18Z",
      "side": 1,
      "message": "I didn’t add ERROR anywhere — the bug was found during testing on our board.\nReference(https://github.com/openbmc/entity-manager/issues/24)\n\n1. How I discovered the issue:\nWhile probing xyz.openbmc_project.UsbDevice({\u0027VENDOR_ID\u0027: \u00272frrr3\u0027}), the probe was incorrectly treated as an OR conjunction because vendOR_id contains the substring \"OR\".\n\n2. How I confirmed the logic problem:\nI tried other probe strings like:\n\nvendOR_id → contains \"OR\" → returns probe_type_codes::OR.\n\nTRUEcolor\u003dblue → contains \"TRUE\" → returns probe_type_codes::TRUE_T.\n\ndeviceMATCH_ONEvalue → returns probe_type_codes::MATCH_ONE.\n\nThis showed that the current logic (probe.find(...)) matches substrings, not whole words.\n\n3. How I fixed it:\nUpdated the code to use regex with word boundaries\n\n4. How I tested:\n\nxyz.openbmc_project.UsbDevice({\u0027VENDOR_ID\u0027: \u00272frrr3\u0027}) → now returns nullopt (correct).\nproperty\u003d\u0027vendOR_id\u0027 → no match (correct).\n\nThis ensures only standalone tokens like OR, AND, TRUE are matched, fixing the false positives.",
      "parentUuid": "256bb958_476ded4c",
      "range": {
        "startLine": 11,
        "startChar": 1,
        "endLine": 11,
        "endChar": 6
      },
      "revId": "0ad68b2db9e85560488bfc4fdb47d7a120832f3b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "447721fa_d503c919",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1002762
      },
      "writtenOn": "2025-12-15T04:01:39Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "681c45bd_850bfb90",
      "range": {
        "startLine": 11,
        "startChar": 1,
        "endLine": 11,
        "endChar": 6
      },
      "revId": "0ad68b2db9e85560488bfc4fdb47d7a120832f3b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bb3cdbe1_aaac7af1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-12-03T09:56:35Z",
      "side": 1,
      "message": "Would be nice to have a unit test for it.",
      "revId": "0ad68b2db9e85560488bfc4fdb47d7a120832f3b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2fee3ff4_703c35b7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2025-12-03T22:17:00Z",
      "side": 1,
      "message": "regex can be slow sometimes, I assume it\u0027ll be OK here.",
      "revId": "0ad68b2db9e85560488bfc4fdb47d7a120832f3b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "121043af_887b0499",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1002762
      },
      "writtenOn": "2025-12-08T06:52:22Z",
      "side": 1,
      "message": "@ed@tanous.net, @vernon.mauery@gmail.com could you please review the PR.Thanks",
      "revId": "0ad68b2db9e85560488bfc4fdb47d7a120832f3b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ef413663_a99c9b4d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1002762
      },
      "writtenOn": "2025-12-22T04:40:43Z",
      "side": 1,
      "message": "@ed@tanous.net,\nCould you please check this,\n\nI didn’t add ERROR anywhere — the bug was found during testing on our board.\nReference(https://github.com/openbmc/entity-manager/issues/24)\n\nHow I discovered the issue:\nWhile probing xyz.openbmc_project.UsbDevice({\u0027VENDOR_ID\u0027: \u00272frrr3\u0027}), the probe was incorrectly treated as an OR conjunction because vendOR_id contains the substring \"OR\".\n\nHow I confirmed the logic problem:\nI tried other probe strings like:\n\nvendOR_id → contains \"OR\" → returns probe_type_codes::OR.\n\nTRUEcolor\u003dblue → contains \"TRUE\" → returns probe_type_codes::TRUE_T.\n\ndeviceMATCH_ONEvalue → returns probe_type_codes::MATCH_ONE.\n\nThis showed that the current logic (probe.find(...)) matches substrings, not whole words.\n\nHow I fixed it:\nUpdated the code to use regex with word boundaries\n\nHow I tested:\n\nxyz.openbmc_project.UsbDevice({\u0027VENDOR_ID\u0027: \u00272frrr3\u0027}) → now returns nullopt (correct).\nproperty\u003d\u0027vendOR_id\u0027 → no match (correct).\n\nThis ensures only standalone tokens like OR, AND, TRUE are matched, fixing the false positives",
      "revId": "0ad68b2db9e85560488bfc4fdb47d7a120832f3b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3a90d18f_ccdf4530",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1002762
      },
      "writtenOn": "2026-01-12T04:30:44Z",
      "side": 1,
      "message": "@ed@tanous.net @vernon.mauery@gmail.com could please check on this PR",
      "revId": "0ad68b2db9e85560488bfc4fdb47d7a120832f3b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ea2d3467_cba0a054",
        "filename": "src/entity_manager/perform_probe.cpp",
        "patchSetId": 1
      },
      "lineNbr": 235,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-08T23:42:41Z",
      "side": 1,
      "message": "I\u0027m not a huge fan of using regex here.  std::regex is insanely slow, we\u0027re making a string copy to use it;  We don\u0027t really expect anything other than space here, so I suspect we can just check for that?\n\nThis fix also looks incorrect for things that aren\u0027t conjunctions.  \"FALSE\" is a complete statement, and doesn\u0027t require a word boundary.\n\nLong term, I would like to see a real parser integrated, like:\nhttps://gerrit.openbmc.org/c/openbmc/entity-manager/+/36517 so that we\u0027re operating on an AST and tokens, not string parsing.\n\nShort term, would simply changing the regex match for \"AND\" and \"OR\" to \" AND \" and \" OR \" fix this without needing regex, while still keeping the unary functions working?",
      "revId": "0ad68b2db9e85560488bfc4fdb47d7a120832f3b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5a95ef24_3ee81bac",
        "filename": "src/entity_manager/perform_probe.cpp",
        "patchSetId": 1
      },
      "lineNbr": 235,
      "author": {
        "id": 1002762
      },
      "writtenOn": "2025-12-11T09:15:41Z",
      "side": 1,
      "message": "To fix this kind of issues added the logic:\nFor instance: probe \u003d xyz.openbmc_project.UsbDevice({\u0027VENDOR_ID\u0027: \u00272frrr3\u0027}) would fail to be probed and would be considered as a conjunction statement - since it has OR at 36th index (in vendOR_id)\nNote: please Suggest the any testcases want to test.",
      "parentUuid": "ea2d3467_cba0a054",
      "revId": "0ad68b2db9e85560488bfc4fdb47d7a120832f3b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}