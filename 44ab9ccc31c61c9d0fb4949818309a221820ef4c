{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8ed0455c_a0065057",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2026-01-24T00:28:10Z",
      "side": 1,
      "message": "?  So the lastJson structure isn\u0027t used anywhere in code?  Please explain more.  \"is not required\" doesn\u0027t really describe why it was there. \n\n(Later comment) did some hunting, see below.",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 58
      },
      "revId": "44ab9ccc31c61c9d0fb4949818309a221820ef4c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aed39034_3127c17e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2026-01-26T02:37:09Z",
      "side": 1,
      "message": "\u003e Fixes: 1df06a426eb0b55b0c0f10307d5784bbe96b3dca\n\nI linked to the change which added this file. Anyone interested can go back to look into that change.\n\nTo see changes in configuration and emit inventory added / inventory removed, EM does not need 2 files.\n\nEM only needs one file to store the last/cached configuration, that same file can be written once a new configuration is derived.",
      "parentUuid": "8ed0455c_a0065057",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 58
      },
      "revId": "44ab9ccc31c61c9d0fb4949818309a221820ef4c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8959c03f_cfb7728d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2026-01-24T00:28:10Z",
      "side": 1,
      "message": "I\u0027m not sure what\u0027s going on here, because you KNOW this file is used because you wrote the option to allow it to not be used.\n\nhttps://github.com/openbmc/entity-manager/commit/e665185bc9ea2a453a254756073891c0819f6375\n\nBut you mention none of that here, and you write this commit message as if this isn\u0027t a breaking change.\n\nWe can certainly have a discussion if this feature is useful and possibly should be removed, but what\u0027s written here looks like you were just hoping nobody would notice.  I will assume you had the best of intentions and just missed it, but please recognize that it increases maintainer load when you do that.",
      "revId": "44ab9ccc31c61c9d0fb4949818309a221820ef4c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "29b7d53b_7f5fe7c6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2026-01-26T02:37:09Z",
      "side": 1,
      "message": "\u003e as if this isn\u0027t a breaking change.\n\nIt does change behavior in a few edge cases. I wouldn\u0027t say it\u0027s a breaking change. Can you say what is \u0027broken\u0027 (as per your testing and or inspection)?\n\nLike which scenario or sequence of events would result in a different behavior?\n\nI could not find any such sequence in normal operation (assuming EM does not crash), i am looking forward to your findings ðŸ˜Š",
      "parentUuid": "8959c03f_cfb7728d",
      "revId": "44ab9ccc31c61c9d0fb4949818309a221820ef4c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a088a127_f6290ebe",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 51,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2026-02-18T19:41:22Z",
      "side": 1,
      "message": "nit: I usually prefer these follow kernel fixes tag conventions on repositories.\n\n```suggestion\nFixes: 1df06a426eb0 (\"Log device added and device removed into journal\")\n```\n\nI created this with `git fixes 1df06...` and the following alias:\n```\n[alias]\n    fixes \u003d\"log -n1 --format\u003d\u0027%h (\\\"%s\\\")\u0027 --abbrev\u003d12\"\n```",
      "revId": "44ab9ccc31c61c9d0fb4949818309a221820ef4c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dcadaf50_1ca7e2c5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 51,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2026-02-18T23:59:29Z",
      "side": 1,
      "message": "Fix applied.",
      "parentUuid": "a088a127_f6290ebe",
      "revId": "44ab9ccc31c61c9d0fb4949818309a221820ef4c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c7cbdd34_073f5bc2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2026-01-23T22:20:58Z",
      "side": 1,
      "message": "Looks fine to me, probably good for others to review.",
      "revId": "44ab9ccc31c61c9d0fb4949818309a221820ef4c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d3b79594_49f20448",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2026-01-24T00:28:10Z",
      "side": 1,
      "message": "Alexander, please do better.  Honestly, if you\u0027d asked me if I thought this should be retained, I probably would\u0027ve agreed with you that this feature wasn\u0027t useful, and could probably be put behind the same option we used elsewhere.  But I don\u0027t want to have to go hunt through the patchset to go figure it out that it broke something, I\u0027d like to be able to take your commit messages as stated, or have them phrased as \"this breaks XYZ, do we care?\".  Not doing that means maintainers can\u0027t review yours and others patchsets as quickly, which is worse for the project overall.",
      "revId": "44ab9ccc31c61c9d0fb4949818309a221820ef4c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fe85f700_40e81666",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2026-01-26T02:37:09Z",
      "side": 1,
      "message": "\u003e \"this breaks XYZ, do we care?\".\n\nCan you say what is broken?",
      "parentUuid": "d3b79594_49f20448",
      "revId": "44ab9ccc31c61c9d0fb4949818309a221820ef4c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2c6f1ef4_de729630",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2026-02-18T19:39:06Z",
      "side": 1,
      "message": "It\u0027s not clear to me what this is supposed to have broken, other than the `last.json` being removed.  There was already a window in the original implementation where the JSON cache can be deleted but not re-written, in which case the `last.json` could be used as a restore case but never was.",
      "revId": "44ab9ccc31c61c9d0fb4949818309a221820ef4c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0698dad5_93f2a6c7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2026-02-19T00:22:24Z",
      "side": 1,
      "message": "\u003e It\u0027s not clear to me what this is supposed to have broken, other than the last.json being removed\n\nI\u0027m not even against having some kind of developer feature like that to compare runtime config changes but IMO it should be implemented in the config write flow and not in the init flow. \n\nSince it\u0027s purely an output feature for the developer and is never fed back into EM.\n\nSo if anyone actually needs/wants it i see no problem adding it back in a way that\u0027s less confusing and works slightly different (reflecting any runtime config change and not squashing everything that happened since EM last re-started).",
      "parentUuid": "2c6f1ef4_de729630",
      "revId": "44ab9ccc31c61c9d0fb4949818309a221820ef4c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "008777ee_7c5d9b6d",
        "filename": "src/entity_manager/entity_manager.cpp",
        "patchSetId": 3
      },
      "lineNbr": 623,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2026-01-24T00:28:10Z",
      "side": 1,
      "message": "Now that we\u0027re loading current here instead of last, doesn\u0027t this break logging of removed items?\n\nhttps://github.com/openbmc/entity-manager/blob/6c7b88451a771bae297ff6baa11c9072e8fa0ad7/src/entity_manager/entity_manager.cpp#L441",
      "range": {
        "startLine": 623,
        "startChar": 0,
        "endLine": 623,
        "endChar": 47
      },
      "revId": "44ab9ccc31c61c9d0fb4949818309a221820ef4c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3c90e5e0_69280105",
        "filename": "src/entity_manager/entity_manager.cpp",
        "patchSetId": 3
      },
      "lineNbr": 623,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2026-01-26T02:37:09Z",
      "side": 1,
      "message": "line 617 before this change.\n```\nstd::filesystem::copy(currentConfiguration, lastConfiguration);\n```\n\nSo the current and last are the same contents, right?\nSo it would not matter which one we load from?\n\n\u003e doesn\u0027t this break logging of removed items?\n\nI tested by removing a powersupply and then running fru-device `ReScan`.\nentity-manager picks up the change and emits the right logs.\n\n```\nJan 26 02:05:32 s8030-bmc-30303035c0c1 entity-manager[13706]: pruning configuration\nJan 26 02:05:32 s8030-bmc-30303035c0c1 entity-manager[13706]: Inventory Removed: Supermicro PWS 920P SQ 0\nJan 26 02:05:32 s8030-bmc-30303035c0c1 entity-manager[13706]: deriving new configuration\nJan 26 02:05:32 s8030-bmc-30303035c0c1 entity-manager[13706]: start loading device overlays\nJan 26 02:05:32 s8030-bmc-30303035c0c1 entity-manager[13706]: finish loading device overlays\nJan 26 02:05:32 s8030-bmc-30303035c0c1 entity-manager[13706]: writing system configuration to /var/configuration/system.json\n```\n\nLet me know if you need a specific scenario tested and i can try it out.\nI don\u0027t manually test all the scenario and sequence of events since there is 100s of those.",
      "parentUuid": "008777ee_7c5d9b6d",
      "range": {
        "startLine": 623,
        "startChar": 0,
        "endLine": 623,
        "endChar": 47
      },
      "revId": "44ab9ccc31c61c9d0fb4949818309a221820ef4c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "342e0044_b52f6875",
        "filename": "src/entity_manager/entity_manager.cpp",
        "patchSetId": 3
      },
      "lineNbr": 623,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2026-02-18T19:39:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3c90e5e0_69280105",
      "range": {
        "startLine": 623,
        "startChar": 0,
        "endLine": 623,
        "endChar": 47
      },
      "revId": "44ab9ccc31c61c9d0fb4949818309a221820ef4c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}