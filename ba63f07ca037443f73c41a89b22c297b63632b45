{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8a5610bb_fd1dccc3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2024-04-09T14:35:47Z",
      "side": 1,
      "message": "Date",
      "range": {
        "startLine": 7,
        "startChar": 13,
        "endLine": 7,
        "endChar": 23
      },
      "revId": "ba63f07ca037443f73c41a89b22c297b63632b45",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "55211c38_fd65cc68",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1001892
      },
      "writtenOn": "2024-05-14T03:19:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8a5610bb_fd1dccc3",
      "range": {
        "startLine": 7,
        "startChar": 13,
        "endLine": 7,
        "endChar": 23
      },
      "revId": "ba63f07ca037443f73c41a89b22c297b63632b45",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e744a320_26a23b58",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-04-09T19:26:46Z",
      "side": 1,
      "message": "Given that https://gerrit.openbmc.org/c/openbmc/entity-manager/+/70691/1 shows that today there\u0027s no way to implement this Property correctly, allowing these in schema shouldn\u0027t be merged until there\u0027s code in place to handle the conversions, or make the interfaces consistent.\n\nBuildDate is also quite annoying because in OpenBMC there\u0027s 4 possible representations of a date:\n- IPMI FRU (which is binary in weeks since an intel-specific epoch)\n- Fru-Device, which turns the IPMI date into a string that looks human facing, but doesn\u0027t follow ISO8061.  I suspect this conversion came verbatim from the python script that fru-device was built-from, and was mostly meant for human (not machine) consumption.  This property could probably be changed without impacting anyone.\n- Dbus, which for all other date interfaces uses microseconds since epoch\n- Redfish, which uses ISO8061\n\nFor the first 3, we need a plan for how we\u0027re going to convert things, or we need to just make them consistent with the rest of the system.  IMO, we should just make fru-device produce linux epoch microseconds for build date, and change phosphor-dbus-interface build date to match (and use linux epoch microseconds).\n\nOnce that\u0027s done, Redfish already has a bunch of infrastructure for going from epoch to ISO8061, so the bmcweb imlementation of this (which I assume is coming) becomes trivial.\n\nIf the above is what you go with, that needs written up somewhere as a holistic change, not just individual pieces (mailing list, design doc, or long prose in a commit message).",
      "revId": "ba63f07ca037443f73c41a89b22c297b63632b45",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6ed3ecb0_5038775e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001892
      },
      "writtenOn": "2024-04-11T07:18:20Z",
      "side": 1,
      "message": "Can we modify the strftime format in Fru-device and IPMI FRU to align with phosphor-dbus-interface?",
      "parentUuid": "e744a320_26a23b58",
      "revId": "ba63f07ca037443f73c41a89b22c297b63632b45",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e38533b9_9a66af30",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-04-12T15:44:54Z",
      "side": 1,
      "message": "\u003e IMO, we should just make fru-device produce linux epoch microseconds for build date, and change phosphor-dbus-interface build date to match (and use linux epoch microseconds).\n\nThis is typically going to require fru-device to have parsing of some arbitrary formats, isn\u0027t it?  When BuildDate was originally added, it just specified YYYYMMDD which is an ISO 8601 format date.  I suspect this was how most vendors were publishing the raw data in their EEPROMs.\n\nWith feeacfe06de6d32de43750500c9729f141ba6bac, I changed it to be formally ISO 8601 format so that the EEPROM data could optionally include timestamps.\n\nI am expecting that EEPROMs should typically be in ISO 8601 format.  Are there really many which are not?\n\nWe do use epoch-time for timestamps in many places, but that is typically when we\u0027re expecting some calculations to be done.  I\u0027m indifferent on this one if we want to really have fru-device convert to epoch time only to have bmcweb convert it back.  I suspect in many cases it is more helpful for the dbus entry to be an ISO string because humans will probably look at it more often than other programs (other than bmcweb which should send the raw string out anyhow as it is already in ISO 8601 format).",
      "parentUuid": "6ed3ecb0_5038775e",
      "revId": "ba63f07ca037443f73c41a89b22c297b63632b45",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "927a63f5_a2b0f9c4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-04-12T15:49:50Z",
      "side": 1,
      "message": "Alright... I\u0027ve read into it in more detail now.\n\nI think the tactical change should be to fix the fru-device string to be ISO 8601, since that is relatively trivial to do.\n\nIf someone further wants to change BuildDate to be epoch-time, we should create proposals for that separately.",
      "parentUuid": "e38533b9_9a66af30",
      "revId": "ba63f07ca037443f73c41a89b22c297b63632b45",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7bed3a46_27bbb794",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-04-12T15:50:18Z",
      "side": 1,
      "message": "Other than the nit on the commit message, it doesn\u0027t seem like any code change is necessary in this commit to me.",
      "revId": "ba63f07ca037443f73c41a89b22c297b63632b45",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "df06564b_1e6098de",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001892
      },
      "writtenOn": "2024-05-14T03:19:50Z",
      "side": 1,
      "message": "The patchset bellow fix the string to ISO8601 format.\nhttps://gerrit.openbmc.org/c/openbmc/entity-manager/+/71400",
      "parentUuid": "927a63f5_a2b0f9c4",
      "revId": "ba63f07ca037443f73c41a89b22c297b63632b45",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}