{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "278204a5_c151a6a2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000418
      },
      "writtenOn": "2023-07-11T12:58:52Z",
      "side": 1,
      "message": "LGTM",
      "revId": "8f29cb149e952cb73c2fc5826a01c2005c0752f1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bdad0b89_e59e2045",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2023-07-11T15:42:35Z",
      "side": 1,
      "message": "LGTM, though I don\u0027t know if there are any implications.",
      "revId": "8f29cb149e952cb73c2fc5826a01c2005c0752f1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "184379be_7c6077e0",
        "filename": "src/fru_device.cpp",
        "patchSetId": 1
      },
      "lineNbr": 65,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2023-07-12T01:06:39Z",
      "side": 1,
      "message": "How was 10 seconds chosen. Do we have any idea on how close to point of failure?\nI would like to see some data on how long does it to read the eeprom in your test case",
      "range": {
        "startLine": 65,
        "startChar": 36,
        "endLine": 65,
        "endChar": 40
      },
      "revId": "8f29cb149e952cb73c2fc5826a01c2005c0752f1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ba5cd4ec_c76bc0d7",
        "filename": "src/fru_device.cpp",
        "patchSetId": 1
      },
      "lineNbr": 65,
      "author": {
        "id": 1001322
      },
      "writtenOn": "2023-07-13T06:21:28Z",
      "side": 1,
      "message": "10 sec was added, based on the logs we captured on BMC. The time difference between the below two logs is 5 sec. Which means it needs more than 5 sec to read and not timeout, hence 10 sec was added. Also, after adding this change we are not observing the missing fru or the error in reading the bus.\n\nJun 29 07:32:33 avc1-bmc fru-device[308]: device at bus 52 address 117 busy\n\nJun 29 07:32:38 avc1-bmc fru-device[308]: Error reading bus 53",
      "parentUuid": "184379be_7c6077e0",
      "range": {
        "startLine": 65,
        "startChar": 36,
        "endLine": 65,
        "endChar": 40
      },
      "revId": "8f29cb149e952cb73c2fc5826a01c2005c0752f1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0084face_fc43ec08",
        "filename": "src/fru_device.cpp",
        "patchSetId": 1
      },
      "lineNbr": 65,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2023-07-13T20:15:38Z",
      "side": 1,
      "message": "The 5 seconds gap here is expected since the timeout was 5 seconds. When you increase to 10 seconds, how long did it take to get the reading, 6 seconds, 9 seconds? I would like to see data that shows 10 seconds would have enough margin.",
      "parentUuid": "ba5cd4ec_c76bc0d7",
      "range": {
        "startLine": 65,
        "startChar": 36,
        "endLine": 65,
        "endChar": 40
      },
      "revId": "8f29cb149e952cb73c2fc5826a01c2005c0752f1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b7dfd68f_950d7a80",
        "filename": "src/fru_device.cpp",
        "patchSetId": 1
      },
      "lineNbr": 65,
      "author": {
        "id": 1001322
      },
      "writtenOn": "2023-07-18T04:32:50Z",
      "side": 1,
      "message": "It is based on the observation that 5 sec was not enough and received a read error. So, doubling the existing timeout value and testing it resolved the issue. hence, I added 10 s as the timeout duration.\n\nMoreover, I did a test by adding the timeout value to 6s. and tested. The issue is not seen with 6s. So, the read takes between 5-6 seconds. To have a buffer in read time, we can keep as 10 sec. Let me know your thoughts.\n\n-constexpr size_t busTimeoutSeconds \u003d 5;\n+//constexpr size_t busTimeoutSeconds \u003d 5;\n+constexpr size_t busTimeoutSeconds \u003d 6;",
      "parentUuid": "0084face_fc43ec08",
      "range": {
        "startLine": 65,
        "startChar": 36,
        "endLine": 65,
        "endChar": 40
      },
      "revId": "8f29cb149e952cb73c2fc5826a01c2005c0752f1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e7fb7e13_642e9440",
        "filename": "src/fru_device.cpp",
        "patchSetId": 1
      },
      "lineNbr": 65,
      "author": {
        "id": 1001322
      },
      "writtenOn": "2023-07-18T12:42:51Z",
      "side": 1,
      "message": "Trying to get the actual read time.",
      "parentUuid": "b7dfd68f_950d7a80",
      "range": {
        "startLine": 65,
        "startChar": 36,
        "endLine": 65,
        "endChar": 40
      },
      "revId": "8f29cb149e952cb73c2fc5826a01c2005c0752f1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6a57103c_1a4d6572",
        "filename": "src/fru_device.cpp",
        "patchSetId": 1
      },
      "lineNbr": 65,
      "author": {
        "id": 1001322
      },
      "writtenOn": "2023-07-20T04:48:34Z",
      "side": 1,
      "message": "The actual read time after capturing the time at the start of the async call and at the return of the call is 5.02s.",
      "parentUuid": "e7fb7e13_642e9440",
      "range": {
        "startLine": 65,
        "startChar": 36,
        "endLine": 65,
        "endChar": 40
      },
      "revId": "8f29cb149e952cb73c2fc5826a01c2005c0752f1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2d4a6509_0828419c",
        "filename": "src/fru_device.cpp",
        "patchSetId": 1
      },
      "lineNbr": 65,
      "author": {
        "id": 1001322
      },
      "writtenOn": "2023-07-24T10:29:11Z",
      "side": 1,
      "message": "The reproducible rate of the issue is 10%\nThe time taken to read the bus is approx 6 sec. The details are attached in the HSD.",
      "parentUuid": "6a57103c_1a4d6572",
      "range": {
        "startLine": 65,
        "startChar": 36,
        "endLine": 65,
        "endChar": 40
      },
      "revId": "8f29cb149e952cb73c2fc5826a01c2005c0752f1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}