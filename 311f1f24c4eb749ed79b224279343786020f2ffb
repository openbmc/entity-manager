{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "ed20d7c4_6bc74e99",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-07-19T12:28:43Z",
      "side": 1,
      "message": "Does this still support all the fan board variants?  It looks like we removed 3 of them.",
      "revId": "311f1f24c4eb749ed79b224279343786020f2ffb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1f5a51bd_91af62d8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1002022
      },
      "writtenOn": "2024-07-19T15:57:06Z",
      "side": 1,
      "message": "Hi Patrick,\n\nThere is a fan board config that we are going to support these days which will be named \"yosemite4_fanboard_fsc_nct_adc_max.json\"\nThis config supports 2nd source fan board with NCT and MAX drivers.\n\n\nThe configs that I removed only load specific drivers.\nfsc_max.json only loads the MAX driver\nfsc_nct.json only loads the NCT driver\nfsc_adc_ti.json only loads the TI driver\n\n\nI also found out there is an issue in this fan board config.\nThis fanboard config hard code setting FanBoard0 and FanBoard1, it\u0027s supposed to put only one FanBoard and the entity manager will number the FanBoard automatically.\n\nCurrently, this fan board config will load FANBOARD0 and FANBOARD1\u0027s drivers twice since there are two fan boards on Yv4. It is leading to duplicate inventory items. I am now fixing it.\n\nLog:\n```\nroot@bmc:~# busctl tree xyz.openbmc_project.EntityManager | grep FAN\n          ├─ /xyz/openbmc_project/inventory/system/board/Yosemite_4_FAN_Board_0\n          │ ├─ /xyz/openbmc_project/inventory/system/board/Yosemite_4_FAN_Board_0/FANBOARD0_ADC\n          │ ├─ /xyz/openbmc_project/inventory/system/board/Yosemite_4_FAN_Board_0/FANBOARD0_FAN0_TACH_IL\n          │ ├─ /xyz/openbmc_project/inventory/system/board/Yosemite_4_FAN_Board_0/FANBOARD0_FAN0_TACH_OL\n...     │ ├─ /xyz/openbmc_project/inventory/system/board/Yosemite_4_FAN_Board_0/FANBOARD1_ADC\n          │ ├─ /xyz/openbmc_project/inventory/system/board/Yosemite_4_FAN_Board_0/FANBOARD1_FAN10_TACH_IL\n          │ ├─ /xyz/openbmc_project/inventory/system/board/Yosemite_4_FAN_Board_0/FANBOARD1_FAN10_TACH_OL\n          │ ├─ /xyz/openbmc_project/inventory/system/board/Yosemite_4_FAN_Board_0/FANBOARD1_FAN11_TACH_IL\n          \n      ├─ /xyz/openbmc_project/inventory/system/board/Yosemite_4_FAN_Board_1\n          │ ├─ /xyz/openbmc_project/inventory/system/board/Yosemite_4_FAN_Board_1/FANBOARD0_ADC\n          │ ├─ /xyz/openbmc_project/inventory/system/board/Yosemite_4_FAN_Board_1/FANBOARD0_FAN0_TACH_IL\n          │ ├─ /xyz/openbmc_project/inventory/system/board/Yosemite_4_FAN_Board_1/FANBOARD0_FAN0_TACH_OL\n       │ ├─ /xyz/openbmc_project/inventory/system/board/Yosemite_4_FAN_Board_1/FANBOARD1_ADC\n          │ ├─ /xyz/openbmc_project/inventory/system/board/Yosemite_4_FAN_Board_1/FANBOARD1_FAN10_TACH_IL\n          │ ├─ /xyz/openbmc_project/inventory/system/board/Yosemite_4_FAN_Board_1/FANBOARD1_FAN10_TACH_OL\n\n```",
      "parentUuid": "ed20d7c4_6bc74e99",
      "revId": "311f1f24c4eb749ed79b224279343786020f2ffb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2fe2bc92_c648da0f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2024-07-19T18:10:58Z",
      "side": 1,
      "message": "I don\u0027t necessarily follow the issue the the code looks ok.",
      "revId": "311f1f24c4eb749ed79b224279343786020f2ffb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ef13c76c_024297ea",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-07-19T18:32:12Z",
      "side": 1,
      "message": "We were ending up with multiple entity-manager objects for the same FRU.",
      "parentUuid": "2fe2bc92_c648da0f",
      "revId": "311f1f24c4eb749ed79b224279343786020f2ffb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bf62a312_dc0f4866",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2024-07-19T18:46:11Z",
      "side": 1,
      "message": "I see the yosemite4_fanboard_fsc_max_adc_ti.json used to have a generic probe statement, until it was fixed in this commit, which probably caused that.",
      "parentUuid": "ef13c76c_024297ea",
      "revId": "311f1f24c4eb749ed79b224279343786020f2ffb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a2b5e893_512e5cb7",
        "filename": "configurations/yosemite4_fanboard_fsc_max_adc_ti.json",
        "patchSetId": 4
      },
      "lineNbr": 1363,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2024-07-24T17:24:13Z",
      "side": 1,
      "message": "This string does not cover all BOARD_PRODUCT_NAME string used in the deleted json files probe statement. Please confirm this is the only BOARD_PRODUCT_NAME need supported",
      "range": {
        "startLine": 1363,
        "startChar": 67,
        "endLine": 1363,
        "endChar": 93
      },
      "revId": "311f1f24c4eb749ed79b224279343786020f2ffb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c8e3a5df_4d0e12e9",
        "filename": "configurations/yosemite4_fanboard_fsc_max_adc_ti.json",
        "patchSetId": 4
      },
      "lineNbr": 1363,
      "author": {
        "id": 1002022
      },
      "writtenOn": "2024-07-25T04:33:12Z",
      "side": 1,
      "message": "I have pushed a commit:\nhttps://gerrit.openbmc.org/c/openbmc/entity-manager/+/72951\n\nsupports second sources fan board FRU: FAN Board FSC-NCT ADC-MAX.\nTwo commits cover all deleted json files probe statement.",
      "parentUuid": "a2b5e893_512e5cb7",
      "range": {
        "startLine": 1363,
        "startChar": 67,
        "endLine": 1363,
        "endChar": 93
      },
      "revId": "311f1f24c4eb749ed79b224279343786020f2ffb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}