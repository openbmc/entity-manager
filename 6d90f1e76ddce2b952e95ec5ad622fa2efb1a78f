{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "5a850023_667f4a72",
        "filename": "/COMMIT_MSG",
        "patchSetId": 12
      },
      "lineNbr": 10,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-06-26T14:57:55Z",
      "side": 1,
      "message": "Can you elaborate on this a little?  You\u0027ve created a class that\u0027s essentially a singleton.  Thats all well and good, and this patch as it stands can probably merge, but what are you thinking this would be used for?  Presumably you can\u0027t instantiate multiple instances of EM.",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 12
      },
      "revId": "6d90f1e76ddce2b952e95ec5ad622fa2efb1a78f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "aeccf60f_68aa69fe",
        "filename": "/COMMIT_MSG",
        "patchSetId": 12
      },
      "lineNbr": 10,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-06-26T16:22:57Z",
      "side": 1,
      "message": "\u003e what are you thinking this would be used for?\n\nCreating a class is a good way to eliminate global variables.\n\nThe class instance can hold the variables for the duration of the program.\n\n\nI will not go into detail as to why we want to get rid of the global variables, i think we are aligned on this topic.",
      "parentUuid": "5a850023_667f4a72",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 12
      },
      "revId": "6d90f1e76ddce2b952e95ec5ad622fa2efb1a78f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dc7df91f_d58d2117",
        "filename": "/COMMIT_MSG",
        "patchSetId": 12
      },
      "lineNbr": 10,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-06-26T16:40:10Z",
      "side": 1,
      "message": "\u003e \u003e what are you thinking this would be used for?\n\u003e \n\u003e Creating a class is a good way to eliminate global variables.\n\u003e \n\u003e The class instance can hold the variables for the duration of the program.\n\u003e \n\u003e \n\u003e I will not go into detail as to why we want to get rid of the global variables, i think we are aligned on this topic.\n\n\nACK.  If eliminating global variables is the only goal, I\u0027m in full support (obviously).  \"further refactoring\" I assumed meant there was more going on.",
      "parentUuid": "aeccf60f_68aa69fe",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 12
      },
      "revId": "6d90f1e76ddce2b952e95ec5ad622fa2efb1a78f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4fd1c0b7_7fcef286",
        "filename": "src/entity_manager/entity_manager.cpp",
        "patchSetId": 12
      },
      "lineNbr": 590,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-06-26T15:04:21Z",
      "side": 1,
      "message": "If we have a class now, why does this need to be static?  Shouldn\u0027t this be a member of the EntityManager class?",
      "range": {
        "startLine": 589,
        "startChar": 0,
        "endLine": 590,
        "endChar": 20
      },
      "revId": "6d90f1e76ddce2b952e95ec5ad622fa2efb1a78f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "62fb417c_1ca1c255",
        "filename": "src/entity_manager/entity_manager.cpp",
        "patchSetId": 12
      },
      "lineNbr": 617,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-06-26T15:07:30Z",
      "side": 1,
      "message": "Every place we do a \"this\" capture is technically unsafe.  This class as it stands is only constructed in main(), so we won\u0027t see the issue yet, but just be aware, these have caused lots of problems in the past.  dbus-sensors had some workarounds using shared_ptr and shared_from_this that we might look into.",
      "range": {
        "startLine": 617,
        "startChar": 9,
        "endLine": 617,
        "endChar": 13
      },
      "revId": "6d90f1e76ddce2b952e95ec5ad622fa2efb1a78f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f902cc7e_38badd5b",
        "filename": "src/entity_manager/entity_manager.cpp",
        "patchSetId": 12
      },
      "lineNbr": 617,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-06-26T16:30:33Z",
      "side": 1,
      "message": "Is it fine if we create a ```TODO``` item for this purpose at the point where the EntityManager instance is created in main function?\n\nSomething like\n```\nTODO: The EM instance needs to be shared_ptr and captured via\nshared_from_this in all callbacks.\n```\n\nSince we cannot encounter the issue anyways, i would not want to go for another cycle since a multiple people already tested the patch.",
      "parentUuid": "62fb417c_1ca1c255",
      "range": {
        "startLine": 617,
        "startChar": 9,
        "endLine": 617,
        "endChar": 13
      },
      "revId": "6d90f1e76ddce2b952e95ec5ad622fa2efb1a78f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "31297532_7431d1e2",
        "filename": "src/entity_manager/entity_manager.hpp",
        "patchSetId": 12
      },
      "lineNbr": 32,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-06-26T14:57:55Z",
      "side": 1,
      "message": "can we come up with a better name for this?  EntityManagerDbusState?",
      "range": {
        "startLine": 32,
        "startChar": 6,
        "endLine": 32,
        "endChar": 19
      },
      "revId": "6d90f1e76ddce2b952e95ec5ad622fa2efb1a78f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "febb361d_575d944f",
        "filename": "src/entity_manager/entity_manager.hpp",
        "patchSetId": 12
      },
      "lineNbr": 32,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-06-26T16:22:57Z",
      "side": 1,
      "message": "Not sure what\u0027s wrong with the current name?\n\nWe need some top-level class for the class hierarchy and it\u0027s common practice for it to have the same name as the containing file.\n\nAgree that there is a slight mismatch between entity-manager and the EntityManager class since the class currently does not handle everything, like acquiring the bus name.\n\nThese inconsistencies can be worked out over time.\n\n```EntityManageDbusState``` is for sure misleading since we also hold\njson members and not just dbus state.\n\n```cpp\n    nlohmann::json lastJson;\n    nlohmann::json systemConfiguration;\n    Topology topology;\n```",
      "parentUuid": "31297532_7431d1e2",
      "range": {
        "startLine": 32,
        "startChar": 6,
        "endLine": 32,
        "endChar": 19
      },
      "revId": "6d90f1e76ddce2b952e95ec5ad622fa2efb1a78f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f3ef14f2_bb1c5b6d",
        "filename": "src/entity_manager/entity_manager.hpp",
        "patchSetId": 12
      },
      "lineNbr": 32,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-06-26T16:40:10Z",
      "side": 1,
      "message": "\u003e Not sure what\u0027s wrong with the current name?\n\u003e \n\nEntity manager is the name of the application, and there are more things in entity manager than just this class.  We need something to disambiguate the app from the class.\n\n\u003e We need some top-level class for the class hierarchy and it\u0027s common practice for it to have the same name as the containing file.\n\nSure, but the argument that we need to name the class something because the file (that existed before the class) is named something is weak.\n\n\u003e \n\u003e Agree that there is a slight mismatch between entity-manager and the EntityManager class since the class currently does not handle everything, like acquiring the bus name.\n\u003e \n\u003e These inconsistencies can be worked out over time.\n\u003e \n\u003e ```EntityManageDbusState``` is for sure misleading since we also hold\n\u003e json members and not just dbus state.\n\u003e \n\u003e ```cpp\n\u003e     nlohmann::json lastJson;\n\u003e     nlohmann::json systemConfiguration;\n\u003e     Topology topology;\n\u003e ```\n\nFair.\n\nMy convictions here aren\u0027t strong.  It\u0027s just naming.",
      "parentUuid": "febb361d_575d944f",
      "range": {
        "startLine": 32,
        "startChar": 6,
        "endLine": 32,
        "endChar": 19
      },
      "revId": "6d90f1e76ddce2b952e95ec5ad622fa2efb1a78f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ],
  "submitRequirementResults": []
}