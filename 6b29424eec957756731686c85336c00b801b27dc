{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8427821a_a4b1fee8",
        "filename": "src/entity_manager/dbus_interface.cpp",
        "patchSetId": 1
      },
      "lineNbr": 167,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-06-27T18:30:26Z",
      "side": 1,
      "message": "We don\u0027t have any arrays of bools anymore, and this has been supported by the bindings for a while now, can we just make this common?",
      "revId": "6b29424eec957756731686c85336c00b801b27dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4252e108_396cc3a3",
        "filename": "src/entity_manager/dbus_interface.cpp",
        "patchSetId": 1
      },
      "lineNbr": 167,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-06-27T19:51:23Z",
      "side": 1,
      "message": "\u003e We don\u0027t have any arrays of bools anymore\n\nHow do you know?\n\nEM configs are supposed to be a stable extension point for downstream, \nas you stated [here](https://gerrit.openbmc.org/c/openbmc/entity-manager/+/79744/comments/4635f6e6_7f553143).\n\nThat\u0027s part of the reason why i could not drop support for arrays of EM configs.\n\nMaybe i am misunderstanding the code, but isn\u0027t this the code which puts the properties and values from the json configs on DBus?\n\nAny change to the type there could cause major problems in case there is any daemons (upstream or downstream) which rely on this EM quirk.",
      "parentUuid": "8427821a_a4b1fee8",
      "revId": "6b29424eec957756731686c85336c00b801b27dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dad86559_983cbafc",
        "filename": "src/entity_manager/dbus_interface.cpp",
        "patchSetId": 1
      },
      "lineNbr": 167,
      "author": {
        "id": 1002222
      },
      "writtenOn": "2025-06-30T09:32:31Z",
      "side": 1,
      "message": "Not exactly. \n\nThis adds the property/value to the dbus object in memory, but does not execute the placement directly. The `tryIfaceInitialize(iface)`-function places stuff on DBus.",
      "parentUuid": "4252e108_396cc3a3",
      "revId": "6b29424eec957756731686c85336c00b801b27dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "12976f4e_e70a1ad1",
        "filename": "src/entity_manager/dbus_interface.cpp",
        "patchSetId": 1
      },
      "lineNbr": 167,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-06-30T14:47:16Z",
      "side": 1,
      "message": "Good to know üëç\n\nI will close this discussion thread since i consider the quirk to be unavoidable for now. At some point in the future when the EM is cleaned up,\nthis quirk will attract more interest and people can begin their testing to see if there is anything which still requires this special case.",
      "parentUuid": "dad86559_983cbafc",
      "revId": "6b29424eec957756731686c85336c00b801b27dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3ca14e6d_42c425dd",
        "filename": "src/entity_manager/dbus_interface.cpp",
        "patchSetId": 1
      },
      "lineNbr": 167,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-07-07T17:47:56Z",
      "side": 1,
      "message": "\u003e How do you know?\n\nAre there any schemas with array of bool?  I\u0027m not aware of any.  I\u0027m not asking to drop support for arrays, but arrays of bool should just be arrays of bools.",
      "parentUuid": "12976f4e_e70a1ad1",
      "revId": "6b29424eec957756731686c85336c00b801b27dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "32e5c8c6_39425d4b",
        "filename": "src/entity_manager/dbus_interface.cpp",
        "patchSetId": 1
      },
      "lineNbr": 167,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-07-14T15:04:36Z",
      "side": 1,
      "message": "I tried your suggestion to remove the quirk but that does not compile.\nBelow is just a fragment of the full error log.\n```\n../src/entity_manager/dbus_interface.hpp:42:33:   required from ‚Äòvoid dbus_interface::addArrayToDbus(const std::string\u0026, const nlohmann::json_abi_v3_12_0::json\u0026, sdbusplus::asio::dbus_interface*, sdbusplus::asio::PropertyPermission, nlohmann::json_abi_v3_12_0::json\u0026, const std::string\u0026) [with PropertyType \u003d bool; std::string \u003d std::__cxx11::basic_string\u003cchar\u003e; nlohmann::json_abi_v3_12_0::json \u003d nlohmann::json_abi_v3_12_0::basic_json\u003c\u003e]‚Äô\n   42 |         iface-\u003eregister_property(name, values);\n      |         ~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~\n../src/entity_manager/dbus_interface.hpp:111:37:   required from ‚Äòvoid dbus_interface::addValueToDBus(const std::string\u0026, const nlohmann::json_abi_v3_12_0::json\u0026, sdbusplus::asio::dbus_interface\u0026, sdbusplus::asio::PropertyPermission, nlohmann::json_abi_v3_12_0::json\u0026, const std::string\u0026) [with PropertyType \u003d bool; std::string \u003d std::__cxx11::basic_string\u003cchar\u003e; nlohmann::json_abi_v3_12_0::json \u003d nlohmann::json_abi_v3_12_0::basic_json\u003c\u003e]‚Äô\n  111 |         addArrayToDbus\u003cPropertyType\u003e(key, value, \u0026iface, permission,\n      |         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n  112 |                                      systemConfiguration, path);\n      |                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~\n../src/entity_manager/dbus_interface.cpp:165:33:   required from here\n  165 |             addValueToDBus\u003cbool\u003e(key, value, *iface, permission,\n      |             ~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n  166 |                                            systemConfiguration, path);\n      |                                            ~~~~~~~~~~~~~~~~~~~~~~~~~~\n../subprojects/sdbusplus/include/sdbusplus/message/types.hpp:278:25: error: static assertion failed: No dbus type conversion provided for type.\n  278 |     static_assert(!std::is_base_of_v\u003cundefined_type_id, type_id\u003cT\u003e\u003e,\n```\n\nSince the goal of this series is to refactor + cleanup the EM i do not want to go further to dig up this quirk unnecessarily, since as you mentioned it is not used anyways.\n\nWe can always come back to this later on when there is interest since it looks like sdbusplus changes may also be involved.",
      "parentUuid": "3ca14e6d_42c425dd",
      "revId": "6b29424eec957756731686c85336c00b801b27dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f6aa79f3_0da2c89e",
        "filename": "src/entity_manager/dbus_interface.cpp",
        "patchSetId": 1
      },
      "lineNbr": 167,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-07-15T15:12:49Z",
      "side": 1,
      "message": "ACK.  Lets look at this at some point, but not required for this patch.",
      "parentUuid": "32e5c8c6_39425d4b",
      "revId": "6b29424eec957756731686c85336c00b801b27dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "90df6758_fe3c6f90",
        "filename": "src/entity_manager/dbus_interface.cpp",
        "patchSetId": 1
      },
      "lineNbr": 167,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-07-15T18:39:25Z",
      "side": 1,
      "message": "FYI, I did debug this:\n\nhttps://gerrit.openbmc.org/c/openbmc/sdbusplus/+/82035. With that patch the vector\u003cbool\u003e can use the same paths as normal.",
      "parentUuid": "f6aa79f3_0da2c89e",
      "revId": "6b29424eec957756731686c85336c00b801b27dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "273da496_96526010",
        "filename": "src/entity_manager/dbus_interface.hpp",
        "patchSetId": 1
      },
      "lineNbr": 102,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-06-27T18:30:26Z",
      "side": 1,
      "message": "This is a really unfortunate variable name.  Can we come up with a better one?",
      "range": {
        "startLine": 102,
        "startChar": 42,
        "endLine": 102,
        "endChar": 55
      },
      "revId": "6b29424eec957756731686c85336c00b801b27dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "48351a3d_adecd490",
        "filename": "src/entity_manager/dbus_interface.hpp",
        "patchSetId": 1
      },
      "lineNbr": 102,
      "author": {
        "id": 1002222
      },
      "writtenOn": "2025-06-30T09:32:31Z",
      "side": 1,
      "message": "`AltPropertyType` or `AlternativePropertyType` maybe?",
      "parentUuid": "273da496_96526010",
      "range": {
        "startLine": 102,
        "startChar": 42,
        "endLine": 102,
        "endChar": 55
      },
      "revId": "6b29424eec957756731686c85336c00b801b27dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e4aae446_a55497e9",
        "filename": "src/entity_manager/dbus_interface.hpp",
        "patchSetId": 1
      },
      "lineNbr": 102,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-06-30T14:47:16Z",
      "side": 1,
      "message": "Renamed to ```SinglePropertyType``` since it\u0027s the case without the array.",
      "parentUuid": "48351a3d_adecd490",
      "range": {
        "startLine": 102,
        "startChar": 42,
        "endLine": 102,
        "endChar": 55
      },
      "revId": "6b29424eec957756731686c85336c00b801b27dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}