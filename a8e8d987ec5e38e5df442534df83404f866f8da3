{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "cf710a83_521c13a5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 17,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-02-23T17:58:01Z",
      "side": 1,
      "message": "\"NIC\" is not a type in the way Em specifies configuration.\n\nThis would be something like MctpNcsiEndpoint ?  Describing the interface itself, not the fact that it\u0027s a \"NIC\" which could take many forms and have many interfaces on it.",
      "range": {
        "startLine": 17,
        "startChar": 0,
        "endLine": 17,
        "endChar": 16
      },
      "revId": "a8e8d987ec5e38e5df442534df83404f866f8da3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1ee787f0_54a6e2df",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 19,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-02-23T17:58:01Z",
      "side": 1,
      "message": "See above, this gets rolled into \"type\" and can be removed.",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 19,
        "endChar": 30
      },
      "revId": "a8e8d987ec5e38e5df442534df83404f866f8da3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1b73155b_cc07fd81",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 21,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-02-23T17:58:01Z",
      "side": 1,
      "message": "Devices do not have an intrinsic \"endpoint id\".  I understand lots of people want an endpoint Id, but as written this immediately breaks if you put more than one nic in a system, or share a nic across two systems.  We need a \"platform\" level config file type (that honestly could have the same schema) if we want to do static IPMI/MCTP assignments.\n\nPlease remove for now.",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 21,
        "endChar": 25
      },
      "revId": "a8e8d987ec5e38e5df442534df83404f866f8da3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c40caec4_8d54a736",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 21,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2025-02-24T07:16:44Z",
      "side": 1,
      "message": "Are you intending some dereferencing scheme to get the actual MCTP EID here? We need that to be able to communicate with the device.",
      "parentUuid": "1b73155b_cc07fd81",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 21,
        "endChar": 25
      },
      "revId": "a8e8d987ec5e38e5df442534df83404f866f8da3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "50c53f84_804b014a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 21,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-03-13T15:59:53Z",
      "side": 1,
      "message": "\u003e Are you intending some dereferencing scheme to get the actual MCTP EID here?\n\nWe\u0027d need to implement some way to describe \"when I see X component plugged into Y slot on Z baseboard, please assign it EIDs from the range 4-10\"\n\nI\u0027m assuming dereferencing scheme would only be internal to the service accessing the device.  In general we don\u0027t make protocol-specific assignments like that mappable outside of a single application.",
      "parentUuid": "c40caec4_8d54a736",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 21,
        "endChar": 25
      },
      "revId": "a8e8d987ec5e38e5df442534df83404f866f8da3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a2ce0dbc_738273b6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 21,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2025-03-14T20:37:01Z",
      "side": 1,
      "message": "OK, so you\u0027re looking for more of a hardware-topology-based description for the device here.\n\nThat may be more @andrew@codeconstruct.com.au\u0027s area then, with the precedence of the mctpreactor bits.",
      "parentUuid": "50c53f84_804b014a",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 21,
        "endChar": 25
      },
      "revId": "a8e8d987ec5e38e5df442534df83404f866f8da3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "891bd9d1_06ba60e7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 21,
      "author": {
        "id": 1002188
      },
      "writtenOn": "2025-03-19T10:43:07Z",
      "side": 1,
      "message": "Hi Ed,\nFor YV4, we plan to use this schema since NICs 0–3 are statically mapped to EID 90–93. We can keep the same schema for static assignments as you mentioned.\n\nHere’s an example of the \"platform\" level configuration integrated into the board JSON:\ndiff --git a/configurations/meta/yosemite4_spiderboard_adc_ti_pwr_ti.json b/configurations/meta/yosemite4_spiderboard_adc_ti_pwr_ti.json\nindex 1a91a07..4523036 100644\n--- a/configurations/meta/yosemite4_spiderboard_adc_ti_pwr_ti.json\n+++ b/configurations/meta/yosemite4_spiderboard_adc_ti_pwr_ti.json\n@@ -1163,6 +1163,40 @@\n                 }\n             ],\n             \"Type\": \"TMP75\"\n+        },\n+        {\n+            \"Type\": \"NIC\",\n+            \"Name\": \"NIC_1\",\n+            \"NCSITransportType\": \"MCTP\",\n+            \"NCSITransportInfo\": {\n+                \"MCTPEndpointId\": 90,\n+                \"MCTPNetworkId\": 1\n+            }\n+        },\n+        {\n+            \"Type\": \"NIC\",\n+            \"Name\": \"NIC_2\",\n+            \"NCSITransportType\": \"RBT\",\n+            \"NCSITransportInfo\": {\n+                \"InterfaceName\": \"eth0\"\n+            }\n+        },\n+        {\n+            \"Type\": \"NIC\",\n+            \"Name\": \"NIC_3\",\n+            \"NCSITransportType\": \"RBT\",\n+            \"NCSITransportInfo\": {\n+                \"InterfaceName\": \"eth1\"\n+            }\n+        },\n+        {\n+            \"Type\": \"NIC\",\n+            \"Name\": \"NIC_4\",\n+            \"NCSITransportType\": \"MCTP\",\n+            \"NCSITransportInfo\": {\n+                \"MCTPEndpointId\": 93,\n+                \"MCTPNetworkId\": 1\n+            }\n         }\n     ],\n     \"Name\": \"Yosemite 4 Spider Board\",\n\nBelow is the static assignment configuration for YV4:\nhttps://github.com/openbmc/openbmc/blob/master/meta-facebook/meta-yosemite4/recipes-phosphor/gpio/phosphor-gpio-monitor/configure-nic-mctp-endpoint\n\nLet me know if you have any further questions, ty.",
      "parentUuid": "a2ce0dbc_738273b6",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 21,
        "endChar": 25
      },
      "revId": "a8e8d987ec5e38e5df442534df83404f866f8da3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "28df798b_ff672eca",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 21,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2025-03-19T13:38:26Z",
      "side": 1,
      "message": "This is not enough to identify or configure an RBT attached nic.\n\n\nst a minimum we also need the package select.\n\nplus the issues identifying the rmii below.",
      "parentUuid": "891bd9d1_06ba60e7",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 21,
        "endChar": 25
      },
      "revId": "a8e8d987ec5e38e5df442534df83404f866f8da3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "33306ad2_d4d8fb12",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 21,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-03-19T15:32:16Z",
      "side": 1,
      "message": "\u003e We can keep the same schema for static assignments as you mentioned.\n\nSure, we can statically assign things, it just doesn\u0027t belong into the file for a specific piece of hardware that will be reused.  That\u0027s what\u0027s in this patchset now, and it doesn\u0027t work as written.  Otherwise it would require the entire community to organize and agree on eid assignments to avoid collisions (what if I also had picked EID 91 for an nv GPU?, or a connectx NIC?)",
      "parentUuid": "28df798b_ff672eca",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 21,
        "endChar": 25
      },
      "revId": "a8e8d987ec5e38e5df442534df83404f866f8da3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c640c4a6_4fb3bc2d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 34,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-02-23T17:58:01Z",
      "side": 1,
      "message": "This is a linux identifier, which should be removed.  This needs to be related to the physical interface on the BMC, so something like \"interfaceIndex: 0\" here.",
      "range": {
        "startLine": 34,
        "startChar": 0,
        "endLine": 34,
        "endChar": 27
      },
      "revId": "a8e8d987ec5e38e5df442534df83404f866f8da3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "955cccd3_b0602f90",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 34,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2025-02-24T07:16:44Z",
      "side": 1,
      "message": "OK, but this is not to be confused with the Linux network interface index, which is what the current netlink tools use (but probably shouldn\u0027t).\n\nIs there some other schema that defines these indexes?",
      "parentUuid": "c640c4a6_4fb3bc2d",
      "range": {
        "startLine": 34,
        "startChar": 0,
        "endLine": 34,
        "endChar": 27
      },
      "revId": "a8e8d987ec5e38e5df442534df83404f866f8da3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c5e4c09c_1996b0b6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 34,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2025-03-19T13:38:26Z",
      "side": 1,
      "message": "the rbt attachment is defined by the physical rmii bus (a port on the manager) and the package identifier (upto 8 logical 4 physical).\n\n\nif we need to enhance the inventory by adding the physical rmii bus and porta for the NIC.\n\n\nwe might need to check with DMTF redfish forum for the not a switch multiple port network.   \n\n\nthings like eth1 and network index are subject to probe order variation and are not stable across network device driver bind/unbind etc.   the interface name can also be changed by userspace request.\n\n\nThe NCSI spec recommends  using the guid to recognize the alternative pathways to the same device.",
      "parentUuid": "955cccd3_b0602f90",
      "range": {
        "startLine": 34,
        "startChar": 0,
        "endLine": 34,
        "endChar": 27
      },
      "revId": "a8e8d987ec5e38e5df442534df83404f866f8da3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2bd0a245_00efd3d3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 34,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-03-19T15:32:16Z",
      "side": 1,
      "message": "\u003e this is not to be confused with the Linux network interface index\n\nAgreed.",
      "parentUuid": "c5e4c09c_1996b0b6",
      "range": {
        "startLine": 34,
        "startChar": 0,
        "endLine": 34,
        "endChar": 27
      },
      "revId": "a8e8d987ec5e38e5df442534df83404f866f8da3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e8692c0e_4b48bb6d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 36,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-02-23T17:58:01Z",
      "side": 1,
      "message": "Need descriptions somewhere of what these actually are and do.",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 36,
        "endChar": 1
      },
      "revId": "a8e8d987ec5e38e5df442534df83404f866f8da3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}