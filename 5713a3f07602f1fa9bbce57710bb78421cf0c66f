{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "d73bcb70_d5cebc62",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-12-03T03:39:07Z",
      "side": 1,
      "message": "I do not think we should add a dbus interface for this.\n\n1. entity-manager could use inotify to identify changes in the directories it is watching.  There is really no need for anyone to explicitly tell it to reload the JSON.\n\n2. If we didn\u0027t want to use inotify, we can support `systemctl reload` which is the standard way of telling a daemon to reload its configuration.\n\nI don\u0027t really want new undocumented human-only dbus interfaces, especially when there are more standard ways to express the same behavior.",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 11,
        "endChar": 48
      },
      "revId": "5713a3f07602f1fa9bbce57710bb78421cf0c66f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8e38af9a_0cb17bb5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1001843
      },
      "writtenOn": "2025-12-03T04:29:16Z",
      "side": 1,
      "message": "Thanks for the feedback.\n\nMy original motivation was the following: when entity-manager works together with phosphor-pid-control.service, updating the entire fan table at runtime currently requires:\n\n1. Modifying the fan-related JSON files inside entity-manager\n\n2. Deleting /var/configuration/system.json\n\n3. Restarting the entity-manager service\n\n4. Restarting entity-manager may affect other services that depend on it, causing unnecessary coupling across packages.\n\nThat’s why I initially considered adding a method to reload the JSON configuration without restarting the service. The intention was to make fan table updates more isolated and reduce the impact on other components.",
      "parentUuid": "d73bcb70_d5cebc62",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 11,
        "endChar": 48
      },
      "revId": "5713a3f07602f1fa9bbce57710bb78421cf0c66f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5e77279c_92305567",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1001843
      },
      "writtenOn": "2025-12-03T04:57:55Z",
      "side": 1,
      "message": "Currently, there are two practical ways to update PID-related settings without rebooting the BMC:\n\n1. Using D-Bus Set-property\nThis works for small or incremental changes, but it is not suitable when the configuration needs to be updated extensively.\n\n2. Removing the cached JSON configuration and restarting the entity-manager service\nThis reliably reloads the full configuration, but restarting the service can have side effects on other components that depend on it.\n\nMy motivation for proposing a reload method was to provide an option that allows large configuration updates without requiring a service restart, and that could be useful for future use cases or for other packages that may need to update entity-manager configurations at runtime.\n\nI’m open to alternative approaches if there is a preferred upstream way to handle this scenario.",
      "parentUuid": "8e38af9a_0cb17bb5",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 11,
        "endChar": 48
      },
      "revId": "5713a3f07602f1fa9bbce57710bb78421cf0c66f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b444ea27_74976cbd",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-03T21:14:41Z",
      "side": 1,
      "message": "This commit message doesn\u0027t properly answer WHY this is a good thing.  An EM service restart is trivial, has a CLI, and (at least in my experience) is fine for a debugging use case.  You don\u0027t mention what the use case is for wanting to reload the fan tables, so I\u0027m guessing a little.",
      "revId": "5713a3f07602f1fa9bbce57710bb78421cf0c66f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6799ae15_4391dd8c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 30,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-03T21:14:41Z",
      "side": 1,
      "message": "This file doesn\u0027t exist in the EM repo or openbmc.  Is it possible you ran this test on a fork?  Or on files still in review?  If so, please point to those.",
      "range": {
        "startLine": 30,
        "startChar": 27,
        "endLine": 30,
        "endChar": 44
      },
      "revId": "5713a3f07602f1fa9bbce57710bb78421cf0c66f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f6cf025e_43b2d809",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 30,
      "author": {
        "id": 1001843
      },
      "writtenOn": "2025-12-04T11:48:04Z",
      "side": 1,
      "message": "Thank you for the review.\n\nRegarding the need to frequently adjust the fan table:\nOur thermal engineers often require a try-and-error process to fine-tune and calibrate the PID coefficients.\nBecause of this workflow, being able to reload the updated table without performing a full EntityManager service restart was helpful during development.\n\nAs for evb-ast2600.json, that file is from my local meta-evb testing environment, which is why it does not exist in the upstream repository.",
      "parentUuid": "6799ae15_4391dd8c",
      "range": {
        "startLine": 30,
        "startChar": 27,
        "endLine": 30,
        "endChar": 44
      },
      "revId": "5713a3f07602f1fa9bbce57710bb78421cf0c66f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "20c714bc_f2f4e1a6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-03T21:11:19Z",
      "side": 1,
      "message": "Overall, the move from platform.json to dbus was to avoid doing complete system reloads on a single property change.  Everything you\u0027re trying to accomplished can be done externally, without being directly on the box using Redfish OEM Manager schemas.\n\nIn a development environment where you are testing EM changes, I believe just restarting the service fulfills this use case.  I\u0027m very much NOT interested in supporting writing config files from other sources outside of the service and having some kind of reload mechanisms.  The existing DBus API is already fit for that purpose, and gives some level of error handling and feedback when sets are done incorrectly.  If you MUST load these things at runtime, that\u0027s what the AddObject API (Widely disliked, but very flexible) is for.",
      "revId": "5713a3f07602f1fa9bbce57710bb78421cf0c66f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}