{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "e250915e_19fb7cc2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2023-09-27T16:19:06Z",
      "side": 1,
      "message": "All looks alright to me, but I\u0027d like to see what the consumer side (in mctpd) looks like before committing to this structure of EM configuration.",
      "revId": "33617ca8312ec948f0957489cffe65d863dccbea",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9910aced_92da3e7d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2023-09-29T20:20:25Z",
      "side": 1,
      "message": "Waiting for https://gerrit.openbmc.org/c/openbmc/entity-manager/+/65666",
      "revId": "33617ca8312ec948f0957489cffe65d863dccbea",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a8b92816_5f174ad6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1001618
      },
      "writtenOn": "2023-10-17T09:09:49Z",
      "side": 1,
      "message": "We pushed implementation on CodeConstruct/mctp:\nhttps://github.com/CodeConstruct/mctp/pull/17\n\nIt would be nice to get your feedback on that.",
      "parentUuid": "e250915e_19fb7cc2",
      "revId": "33617ca8312ec948f0957489cffe65d863dccbea",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "446aec27_deec8479",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-10-18T12:35:27Z",
      "side": 1,
      "message": "I really don\u0027t like that we have undocumented dbus interfaces now spanning even outside the OpenBMC organization.  Should we start documenting these EM config types in phosphor-dbus-interfaces?  (@edtanous - opinions?)",
      "parentUuid": "a8b92816_5f174ad6",
      "revId": "33617ca8312ec948f0957489cffe65d863dccbea",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a5c13c67_f296e8ef",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2023-10-19T03:08:11Z",
      "side": 1,
      "message": "Yep, these should be tracked with the rest of the config structure.\n\nAlternatively, we could make a policy that the EM config types don\u0027t leak out to other projects (or at least those we have input on), and provide a more \"generic\" configuration mechanism for mctpd.",
      "parentUuid": "446aec27_deec8479",
      "revId": "33617ca8312ec948f0957489cffe65d863dccbea",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8a9a8fcb_8a391223",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-10-19T22:27:02Z",
      "side": 1,
      "message": "\u003e @edtanous - opinions?\n\nThe problem is that EM isn\u0027t currently capable of publishing consistent schemas to dbus.  There\u0027s some variability between a field type possibly being uintX_t, double, or a string dependent on what the config file the person actually wrote and how the macro \"language\" (if you can call it that) produces the result.\n\nWe could document the \"idealized\" interfaces, but I\u0027ve been hesitant to because it would lead to people building reactors that worked on one system and quietly broke on another because of the type mismatch (I think omnisensor has this problem today).  Right now, the current state of the art is to do reactor-daemon side coercion of the parameters into the expected type.  That obviously sucks from an interface perspective, but it\u0027s what we have today.\n\nFWIW, I\u0027ve spent a little time trying to fix this in the EM code, and the problem is that EM doesn\u0027t have a direct EntityType + FieldName -\u003e dbus type conversion table anywhere.  We could add one, but we\u0027re then going to break every downstream system that\u0027s added something manufacturer specific, or gone outside the superset of configs that\u0027s in upstream.  Whether or not it\u0027s ok to break those use cases, or if there\u0027s some kind of \"fail into the old way\" that\u0027s possible is probably a discussion we could have at some point.\n\nTL; DR, I fully support anyone that want\u0027s to try to solve this, but it\u0027s a deeper problem than just not having things documented.",
      "parentUuid": "a5c13c67_f296e8ef",
      "revId": "33617ca8312ec948f0957489cffe65d863dccbea",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "11167bb1_f45128ae",
        "filename": "configurations/yosemite4.json",
        "patchSetId": 7
      },
      "lineNbr": 98,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-10-03T21:50:19Z",
      "side": 1,
      "message": "I\u0027m not convinced this belongs in the Yosemite4 json file.\n\nSentinel Dome + all this other stuff is one possible configuration of Yv4.  It happens to be the **first** configuration.\n\nDoesn\u0027t this belong in a Sentinel Dome JSON file?  How do we handle a different Yv4 configuration?",
      "range": {
        "startLine": 77,
        "startChar": 0,
        "endLine": 98,
        "endChar": 10
      },
      "revId": "33617ca8312ec948f0957489cffe65d863dccbea",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b5e43e0f_9b7bba06",
        "filename": "configurations/yosemite4.json",
        "patchSetId": 7
      },
      "lineNbr": 98,
      "author": {
        "id": 1001618
      },
      "writtenOn": "2023-10-11T09:05:20Z",
      "side": 1,
      "message": "We will add Sentinel Dome JSON file for it. Since we have all fru data, it should be able to probe by the board fru data.",
      "parentUuid": "11167bb1_f45128ae",
      "range": {
        "startLine": 77,
        "startChar": 0,
        "endLine": 98,
        "endChar": 10
      },
      "revId": "33617ca8312ec948f0957489cffe65d863dccbea",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e090fc0d_4b774404",
        "filename": "configurations/yosemite4.json",
        "patchSetId": 7
      },
      "lineNbr": 98,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-10-19T22:37:06Z",
      "side": 1,
      "message": "+1.  These look like devices that could be plugged into Yosemite, which I\u0027m guessing based on some of them being called \"CXL\" (hard to know for sure based on names).\n\nIf these are things that are physically not on the yosemite baseboard, they need put into another file, which also implies that this schema needs changed to something like:\n\n{\n   \"Type\": \"MCTPI2cDevice\"\n   \"Address\": \"\u003caddress\u003e\"\n   \"Bus\": \"\u003cbus\u003e\"\n   \"Name\": MCTP_BRIDGE2\n\n}\n\n\nThen in the file for each add in card itself, there would be\n\n{\n    \"Type\": \"MCTPEndpoint\",\n    \"Id\": 20\n}",
      "parentUuid": "b5e43e0f_9b7bba06",
      "range": {
        "startLine": 77,
        "startChar": 0,
        "endLine": 98,
        "endChar": 10
      },
      "revId": "33617ca8312ec948f0957489cffe65d863dccbea",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "63d7e76e_7b81da78",
        "filename": "configurations/yosemite4.json",
        "patchSetId": 7
      },
      "lineNbr": 98,
      "author": {
        "id": 1001618
      },
      "writtenOn": "2023-11-08T08:45:40Z",
      "side": 1,
      "message": "We put them into separate files.\n\nSince we have all eeproms connected to the BMC, we should be able to split these configuration into corresponding file.",
      "parentUuid": "e090fc0d_4b774404",
      "range": {
        "startLine": 77,
        "startChar": 0,
        "endLine": 98,
        "endChar": 10
      },
      "revId": "33617ca8312ec948f0957489cffe65d863dccbea",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "661b9472_34b9bd4c",
        "filename": "configurations/yosemite4.json",
        "patchSetId": 7
      },
      "lineNbr": 108,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-10-19T22:37:06Z",
      "side": 1,
      "message": "Based on a schematic, how are these determined?  I\u0027m assuming based on them being incrementing, they really look like software-defined IDs rather than hardware defined, which would imply that they don\u0027t go into an EM config file, and would either be generated or hardcoded in the MCTP interface stack itself.\n\nIf these are BMC-wide Ids, we\u0027re going to get conflicts if we hardcode them in the config file, and someone plugs in two of the same card.",
      "range": {
        "startLine": 103,
        "startChar": 0,
        "endLine": 108,
        "endChar": 18
      },
      "revId": "33617ca8312ec948f0957489cffe65d863dccbea",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1d21112e_d18526af",
        "filename": "configurations/yosemite4.json",
        "patchSetId": 7
      },
      "lineNbr": 108,
      "author": {
        "id": 1001618
      },
      "writtenOn": "2023-11-08T08:45:40Z",
      "side": 1,
      "message": "We changed this calculating by the physical bus it located.",
      "parentUuid": "661b9472_34b9bd4c",
      "range": {
        "startLine": 103,
        "startChar": 0,
        "endLine": 108,
        "endChar": 18
      },
      "revId": "33617ca8312ec948f0957489cffe65d863dccbea",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "45b67abc_3e22e534",
        "filename": "configurations/yosemite4.json",
        "patchSetId": 7
      },
      "lineNbr": 119,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-10-19T22:37:06Z",
      "side": 1,
      "message": "As far as a user is concerned, does MCTP itself functionally mean anything?  I\u0027m going to guess that this actually needs to be RDEDevice, PLDMDevice, CXLDevice, or NVMeDevice dependent on what you\u0027re implementing.  MCTP as a transport would just be assumed on those types.\n\nUnless there are use cases that JUST involve MCTP?  My understanding of the protocol was that some other protocol had to ride on top.",
      "revId": "33617ca8312ec948f0957489cffe65d863dccbea",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e89fcab8_08391bfe",
        "filename": "configurations/yosemite4.json",
        "patchSetId": 7
      },
      "lineNbr": 119,
      "author": {
        "id": 1001618
      },
      "writtenOn": "2023-11-08T08:45:40Z",
      "side": 1,
      "message": "We changed it to `MCTPEndpoint`.",
      "parentUuid": "45b67abc_3e22e534",
      "revId": "33617ca8312ec948f0957489cffe65d863dccbea",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1cac8d72_ed970e74",
        "filename": "configurations/yosemite4.json",
        "patchSetId": 7
      },
      "lineNbr": 119,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2023-11-09T05:02:37Z",
      "side": 1,
      "message": "\u003e As far as a user is concerned, does MCTP itself functionally mean anything? \n\nperhaps more of long-term design decision (on what\u0027s probed and what\u0027s pre-configured), but once we know something is MCTP we can then discover the supported protocols..",
      "parentUuid": "e89fcab8_08391bfe",
      "revId": "33617ca8312ec948f0957489cffe65d863dccbea",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b8cb929_2de919d4",
        "filename": "schemas/legacy.json",
        "patchSetId": 7
      },
      "lineNbr": 589,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2023-09-28T23:47:57Z",
      "side": 1,
      "message": "Please also mention this change in commit message",
      "range": {
        "startLine": 578,
        "startChar": 0,
        "endLine": 589,
        "endChar": 14
      },
      "revId": "33617ca8312ec948f0957489cffe65d863dccbea",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b776f827_172bcb68",
        "filename": "schemas/legacy.json",
        "patchSetId": 7
      },
      "lineNbr": 589,
      "author": {
        "id": 1001618
      },
      "writtenOn": "2023-11-08T08:45:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0b8cb929_2de919d4",
      "range": {
        "startLine": 578,
        "startChar": 0,
        "endLine": 589,
        "endChar": 14
      },
      "revId": "33617ca8312ec948f0957489cffe65d863dccbea",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}