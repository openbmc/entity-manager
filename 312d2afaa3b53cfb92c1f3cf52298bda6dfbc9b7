{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "ce8e1c3d_0eb0c1aa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1001354
      },
      "writtenOn": "2025-01-06T18:30:17Z",
      "side": 1,
      "message": "Am I understanding correctly that the aim of this change is to make it so that when a new EM config is added to configurations/, the submitter would run generate_config_list.sh, then commit the updates configurations/meson.build along with their changes-- instead of just updating the existing meson.build like we\u0027d do today?\n\n\nWhen you say\n\n\u003e There is a tradeoff when running a command to get the filenames, as it\nmay not regenerate when file is added/removed\n\nThat sounds like a potentially serious tradeoff if we\u0027re replacing the existing list (relatively easy for change submitters to maintain, IMO) with a file that has \u0027# This file is auto-generated. Do not edit manually.\u0027 at the top.\n\nWhat situations would result in the script *not* updating the list when a config is added or removed?",
      "revId": "312d2afaa3b53cfb92c1f3cf52298bda6dfbc9b7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4e1dc08f_d149b03e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-01-07T01:54:19Z",
      "side": 1,
      "message": "yes, the idea is that the list is a separate file and not updated manually.\n\n\u003eWhat situations would result in the script not updating the list when a config is added or removed?\n\nAs long as you run the script, it should be fine. I initially wanted to avoid the script and just use \u0027find\u0027to get all the filenames but came across that meson documentation as to why all the files are explicitly mentioned.",
      "parentUuid": "ce8e1c3d_0eb0c1aa",
      "revId": "312d2afaa3b53cfb92c1f3cf52298bda6dfbc9b7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "11e2f65a_a1130371",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1001354
      },
      "writtenOn": "2025-01-07T15:29:34Z",
      "side": 1,
      "message": "That sounds like it makes sense to me.\n\nAssuming Entity-Manager maintainers have don\u0027t have other objections, I think it\u0027d make sense to make a revision that also updates the Entity-Manager readme to mention this script should be run after adding or changing the name of an entity-manager config.\n\n...And maybe not worth the effort to dig in too deep for now (let\u0027s see what other folks think)-- but I wonder if it could make sense to have a script like this run as part of the automatic CI tests processes that get called before/when submitting new changes for Entity-Manager to Gerrit.\n\nIt\u0027s a simple thing to fix, but I know I\u0027ve definitely submitted config files in the past without remembering to update the meson.build first",
      "parentUuid": "4e1dc08f_d149b03e",
      "revId": "312d2afaa3b53cfb92c1f3cf52298bda6dfbc9b7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "588dd324_4fda14bf",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-01-07T15:51:04Z",
      "side": 1,
      "message": "\u003e Assuming Entity-Manager maintainers have don\u0027t have other objections, I think it\u0027d make sense to make a revision that also updates the Entity-Manager readme to mention this script should be run after adding or changing the name of an entity-manager config.\n\nMany people don\u0027t read documentation. It tends to be outdated anyways.\nBut you are right that it should be clear how to update this file.\n\nThis is fixed in the latest revision. The script now puts its own filename\ninto the generated file. So it is clear how the file is generated.\n\n\u003e It\u0027s a simple thing to fix, but I know I\u0027ve definitely submitted config files in the past without remembering to update the meson.build first\n\nSame. But i would prefer to keep this change simple and just focus on automating the process of creating that list.",
      "parentUuid": "11e2f65a_a1130371",
      "revId": "312d2afaa3b53cfb92c1f3cf52298bda6dfbc9b7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c815eaf2_c312e735",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1001354
      },
      "writtenOn": "2025-01-10T16:32:46Z",
      "side": 1,
      "message": "\u003eMany people don\u0027t read documentation. It tends to be outdated anyways.\nBut you are right that it should be clear how to update this file.\n\nI hear ya on that-- but the contents of the readme.md are displayed on the front page of openbmc/entity-manager and is likely to be looked over by anyone looking to add a new configuration.\n\nI think it\u0027d make sense to add a bit to the end of the readme that explains that this script should be called anytime a new configuration is added, removed, or renamed to update a list meson is relying on.\n\n\u003eThe script now puts its own filename into the generated file.\n\nby \u0027generated file\u0027 are you referring to the configuration/meson.build file you uploaded with the new list of configs? If so, based on the changes between rev 3 and rev 5, I\u0027m suspecting you meant to remove the configuration/meson.build and replace it with another file that didn\u0027t get added to the most recent commit.\n\nThat\u0027s just a guess on my end.\n\n\u003eSame. But i would prefer to keep this change simple and just focus on automating the process of creating that list\n\nVery understandable. Honestly, I would have thought someone else with a \u0027strong opinion\u0027 would have chimed in on this topic by now.\n\nI think it might be a good idea for you to go to the openbmc Discord -- maybe under the \u0027Inventory\u0027 channel, then post a list to this PR with a brief description and see if any folks have \u0027opinions\u0027 on this topic that just didn\u0027t see this review yet.",
      "parentUuid": "588dd324_4fda14bf",
      "revId": "312d2afaa3b53cfb92c1f3cf52298bda6dfbc9b7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}