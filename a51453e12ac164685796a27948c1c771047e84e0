{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "212d47ad_55eed3ea",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-04-16T20:39:00Z",
      "side": 1,
      "message": "sorry for the late review, this fell to the bottom of the stack.  If you want to merge this then in the next week or so clean up the bugs, I\u0027m fine with that.",
      "revId": "a51453e12ac164685796a27948c1c771047e84e0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "deb1dcc3_d2e1d070",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-04-17T08:19:03Z",
      "side": 1,
      "message": "I would rather merge a finished version. The feature is not too complicated so it should be possible to make it happen.",
      "parentUuid": "212d47ad_55eed3ea",
      "revId": "a51453e12ac164685796a27948c1c771047e84e0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7afb3269_1ced442d",
        "filename": "src/entity_manager.cpp",
        "patchSetId": 7
      },
      "lineNbr": 1355,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-04-16T20:39:00Z",
      "side": 1,
      "message": "Pretty sure you want this to still happen.\n\nImagine a system goes from:\nEM_CACHE_CONFIGURATION \u003d true\n\nto\n\nEM_CACHE_CONFIGURATION \u003d false\n\nThese files won\u0027t be cleared correctly.",
      "revId": "a51453e12ac164685796a27948c1c771047e84e0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c0d4b031_63fa4d74",
        "filename": "src/entity_manager.cpp",
        "patchSetId": 7
      },
      "lineNbr": 1355,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-04-17T08:19:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7afb3269_1ced442d",
      "revId": "a51453e12ac164685796a27948c1c771047e84e0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "de38af25_41d46dd4",
        "filename": "src/entity_manager.hpp",
        "patchSetId": 7
      },
      "lineNbr": 102,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-04-16T20:39:00Z",
      "side": 1,
      "message": "should this branch go here instead?\n\nhttps://github.com/openbmc/entity-manager/blob/79b2075688eac9fabf3c2e9e2f2346ffb7a1fd2c/src/entity_manager.cpp#L1123C48-L1123C64\n\nI suspect we need some handling of this in deriveNewConfiguration, right?",
      "revId": "a51453e12ac164685796a27948c1c771047e84e0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3a49883f_d4796860",
        "filename": "src/entity_manager.hpp",
        "patchSetId": 7
      },
      "lineNbr": 102,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-04-17T08:19:03Z",
      "side": 1,
      "message": "That location is already deeply nested so i would prefer to have the logic here if possible.\n\n```logDeviceAdded``` is only applicable when there is persistence of the devices currently present on the system. That has been previously pointed out.\n\nhttps://gerrit.openbmc.org/c/openbmc/entity-manager/+/77355/comment/e4e46e48_3ff4fedb/\n\nCan you say why you want the branch to be moved?\n\n\n\u003e I suspect we need some handling of this in deriveNewConfiguration, right?\n\nWhat do we need to handle there? From what i can see the function is only handling the in-memory objects.",
      "parentUuid": "de38af25_41d46dd4",
      "revId": "a51453e12ac164685796a27948c1c771047e84e0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7d82c37a_98adb440",
        "filename": "src/entity_manager.hpp",
        "patchSetId": 7
      },
      "lineNbr": 102,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-07-16T16:37:51Z",
      "side": 1,
      "message": "Because I don\u0027t believe if this is only put here that this patch will function correctly.  Devices are added and removed as needed.\n\nThe only thing you\u0027re doing here is nerfing the message, you\u0027re not actually disabling caching.",
      "parentUuid": "3a49883f_d4796860",
      "revId": "a51453e12ac164685796a27948c1c771047e84e0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d46cccab_08cce6a0",
        "filename": "src/entity_manager.hpp",
        "patchSetId": 7
      },
      "lineNbr": 102,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-07-17T07:54:20Z",
      "side": 1,
      "message": "Maybe i am not really understanding how EM handles the different json files.\n\nFrom my perspective, we have the path `currentConfiguration` which is used in 2 places\n```cpp\nconstexpr const char* currentConfiguration \u003d \"/var/configuration/system.json\";\n\n\nsrc/entity_manager/entity_manager.cpp\n589:                configuration::currentConfiguration))\n594:            std::filesystem::copy(configuration::currentConfiguration,\n596:            std::filesystem::remove(configuration::currentConfiguration);\n622:        std::filesystem::remove(configuration::currentConfiguration);\n\nsrc/entity_manager/configuration.cpp\n31:    std::ofstream output(currentConfiguration);\n```\n\nOne is the initial check for existing configuration and one is the `writeJsonFiles` function.\n\nSo if we do not read and do not write to the file there we disabled the caching, right?\n\nOr is the file used in another place i did not check?\nIs there another file which is also used for the same purpose?",
      "parentUuid": "7d82c37a_98adb440",
      "revId": "a51453e12ac164685796a27948c1c771047e84e0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7e12c747_c2138854",
        "filename": "src/entity_manager.hpp",
        "patchSetId": 7
      },
      "lineNbr": 102,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-09-23T19:08:31Z",
      "side": 1,
      "message": "FWIW, this is probably not a good reason to hold up this patch.  This is an option that\u0027s non default.  we should be able to develop it.  closing.",
      "parentUuid": "d46cccab_08cce6a0",
      "revId": "a51453e12ac164685796a27948c1c771047e84e0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "06369d36_bc4374c5",
        "filename": "src/meson.build",
        "patchSetId": 7
      },
      "lineNbr": 10,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-04-16T20:39:00Z",
      "side": 1,
      "message": "Can we code golf this a little?\nallowed \u003d get_option(\u0027entity-manager-cache-configuration\u0027).allowed()\ncpp_args +\u003d -DEM_CACHE_CONFIGURATION\u003d\u0027 + allowed",
      "range": {
        "startLine": 4,
        "startChar": 0,
        "endLine": 10,
        "endChar": 0
      },
      "revId": "a51453e12ac164685796a27948c1c771047e84e0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9fb2e8cf_de6e1f8f",
        "filename": "src/meson.build",
        "patchSetId": 7
      },
      "lineNbr": 10,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-04-17T08:19:03Z",
      "side": 1,
      "message": "Maybe that golfing stick is broken\n```\n../src/meson.build:5:59: ERROR: Unknown method \"allowed\" in object \u003c[BooleanHolder] holds [bool]: True\u003e of type BooleanHolder.\n```",
      "parentUuid": "06369d36_bc4374c5",
      "range": {
        "startLine": 4,
        "startChar": 0,
        "endLine": 10,
        "endChar": 0
      },
      "revId": "a51453e12ac164685796a27948c1c771047e84e0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2e4063de_f7eb3e77",
        "filename": "src/meson.build",
        "patchSetId": 7
      },
      "lineNbr": 10,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-07-16T16:37:51Z",
      "side": 1,
      "message": "sure, I missed a str() around allowed",
      "parentUuid": "9fb2e8cf_de6e1f8f",
      "range": {
        "startLine": 4,
        "startChar": 0,
        "endLine": 10,
        "endChar": 0
      },
      "revId": "a51453e12ac164685796a27948c1c771047e84e0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4e3eae58_2ff7f4cf",
        "filename": "src/meson.build",
        "patchSetId": 7
      },
      "lineNbr": 10,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-07-17T07:54:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2e4063de_f7eb3e77",
      "range": {
        "startLine": 4,
        "startChar": 0,
        "endLine": 10,
        "endChar": 0
      },
      "revId": "a51453e12ac164685796a27948c1c771047e84e0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}