{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "6733e5d0_8731a5b3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 8,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-06-24T19:08:58Z",
      "side": 1,
      "message": "This commit message needs a large section dedicated to \"why\" we would want this upstream.  It seems like a significant step backwards in terms of maintenance.",
      "revId": "cc40bb91883a047daa2c191cfba26c5013e2023d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "50e2aba0_8bd979d8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 8,
      "author": {
        "id": 1000934
      },
      "writtenOn": "2024-06-25T06:00:22Z",
      "side": 1,
      "message": "Updated in new patchset.",
      "parentUuid": "6733e5d0_8731a5b3",
      "revId": "cc40bb91883a047daa2c191cfba26c5013e2023d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8a74e07a_50418e78",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-06-24T19:08:58Z",
      "side": 1,
      "message": "?  This is OpenBMC, there are no customers, and the intent of EM is that config files that aren\u0027t used don\u0027t have any effect.",
      "range": {
        "startLine": 16,
        "startChar": 4,
        "endLine": 16,
        "endChar": 28
      },
      "revId": "cc40bb91883a047daa2c191cfba26c5013e2023d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "15084f2a_efd113dd",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1000934
      },
      "writtenOn": "2024-06-25T06:00:22Z",
      "side": 1,
      "message": "Remove this line in new commit message.",
      "parentUuid": "8a74e07a_50418e78",
      "range": {
        "startLine": 16,
        "startChar": 4,
        "endLine": 16,
        "endChar": 28
      },
      "revId": "cc40bb91883a047daa2c191cfba26c5013e2023d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "da610d76_974ca8b2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2024-06-24T18:45:39Z",
      "side": 1,
      "message": "So where you keep the config files you do want to install, in your meta layer?",
      "revId": "cc40bb91883a047daa2c191cfba26c5013e2023d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ca319b3a_c2f14d68",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 1000934
      },
      "writtenOn": "2024-06-25T06:00:22Z",
      "side": 1,
      "message": "Yes, I prefer to put the config files in meta layer, so that we can place them platform by platform and then the config files which may be used will be installed base on bblayer\u0027s setting.",
      "parentUuid": "da610d76_974ca8b2",
      "revId": "cc40bb91883a047daa2c191cfba26c5013e2023d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0184d968_bde92542",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2024-06-24T18:45:39Z",
      "side": 1,
      "message": "Probably don\u0027t want to put the name of the site it happens to be hosted on in the option name.  Maybe just:  install-configuration-files.",
      "range": {
        "startLine": 21,
        "startChar": 17,
        "endLine": 21,
        "endChar": 38
      },
      "revId": "cc40bb91883a047daa2c191cfba26c5013e2023d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "991b69e8_b6b4faf9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1000934
      },
      "writtenOn": "2024-06-25T06:00:22Z",
      "side": 1,
      "message": "Thanks for the advice. Done.",
      "parentUuid": "0184d968_bde92542",
      "range": {
        "startLine": 21,
        "startChar": 17,
        "endLine": 21,
        "endChar": 38
      },
      "revId": "cc40bb91883a047daa2c191cfba26c5013e2023d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cf697fe9_2a6765b8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2024-06-24T18:45:39Z",
      "side": 1,
      "message": "Would like to see what the community thinks about this.",
      "revId": "cc40bb91883a047daa2c191cfba26c5013e2023d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "76391b8f_120e1f0a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-06-24T19:08:58Z",
      "side": 1,
      "message": "Overall, I don\u0027t really understand why we would want this in upstream.  I can hypothesize a reason, because the commit message doesn\u0027t list it:  There are conflicts in the probe statements in the config files between platforms.  We should just fix these conflicts.  Config files should be based on a fixed fru, and if there are conflicting probe statements, we should fix them.\n\nBeyond that, the config files don\u0027t take up much binary space, and are ensured at compile time that they parse, so in theory there should be no problem with the json files themselves causing issues.\n\nI could certainly see a downstream fork of entity-manager wanting to do this, to provide a completely different set of EM config files, but in that case they should be maintaining it as a fork, not pushing the complexity on upstream.\n\nOverall, even though this change doesn\u0027t seem large, I\u0027m not in support.  It encourages users to not get the upstream config files correct, because with this patch they can be trivially disabled.  In addition, there are optimizations we might do in the future, like generating c structures instead of parsing the json itself, that would no longer be possible if we explicitly supported install-time json, rather than requiring it be in the build.",
      "revId": "cc40bb91883a047daa2c191cfba26c5013e2023d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d5024221_8c6d531b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000934
      },
      "writtenOn": "2024-06-25T06:00:22Z",
      "side": 1,
      "message": "\u003e Overall, I don\u0027t really understand why we would want this in upstream.  I can hypothesize a reason, because the commit message doesn\u0027t list it:  There are conflicts in the probe statements in the config files between platforms.  We should just fix these conflicts.  Config files should be based on a fixed fru, and if there are conflicting probe statements, we should fix them.\n\u003e \n\u003e Beyond that, the config files don\u0027t take up much binary space, and are ensured at compile time that they parse, so in theory there should be no problem with the json files themselves causing issues.\n\u003e \nActually, our machine is facing the issue that there is no space for a new feature, so we are working on cleaning up the useless files on machine.\n\u003e I could certainly see a downstream fork of entity-manager wanting to do this, to provide a completely different set of EM config files, but in that case they should be maintaining it as a fork, not pushing the complexity on upstream.\n\u003e \n\u003e Overall, even though this change doesn\u0027t seem large, I\u0027m not in support.  It encourages users to not get the upstream config files correct, because with this patch they can be trivially disabled.  In addition, there are optimizations we might do in the future, like generating c structures instead of parsing the json itself, that would no longer be possible if we explicitly supported install-time json, rather than requiring it be in the build.\n\nGot it. Thanks for the comment, I will leave it in downstream.",
      "parentUuid": "76391b8f_120e1f0a",
      "revId": "cc40bb91883a047daa2c191cfba26c5013e2023d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4a01dc1c_62ca4ce0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-06-25T16:33:38Z",
      "side": 1,
      "message": "\u003e Actually, our machine is facing the issue that there is no space for a new feature, so we are working on cleaning up the useless files on machine.\n\nThen put that in your commit message: How much space is saved by not including them?\n\nA quick look on my system shows that once compressed, the entire payload of json files is about 40kB\n\n```\ned in tv entity-manager.bak/configurations on  master [$?⇡]\n❯ ls -alh archive.tar.xz\n-rw-rw-r-- 1 ed ed 40K Jun 25 09:31 archive.tar.xz\n```\n\nThis is such a minor change, I really doubt it\u0027s going to help with binary size much, and isn\u0027t worth the complexity of trying to maintain multiple sets of EM configs.",
      "parentUuid": "d5024221_8c6d531b",
      "revId": "cc40bb91883a047daa2c191cfba26c5013e2023d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b2f136d7_a992a97e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000934
      },
      "writtenOn": "2024-06-26T02:27:26Z",
      "side": 1,
      "message": "Yeah, it only save 56kB in our image which is a small change, so we are also going to find out other unused thing to remove.\n\nI think this saving size might not be a fix number due to the JSON file might be added/removed/modified by people, so I have not add this in commit message.\n\nIt is a small change and will not have any change to entity-manager itself, so I think it might be fine to be upstreamed. However, you\u0027re right, my reasons aren\u0027t strong enough.",
      "parentUuid": "4a01dc1c_62ca4ce0",
      "revId": "cc40bb91883a047daa2c191cfba26c5013e2023d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}