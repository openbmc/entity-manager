{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "d9dc1b91_e324805d",
        "filename": "src/entity_manager/power_status_monitor.cpp",
        "patchSetId": 40
      },
      "lineNbr": 37,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-02T22:54:56Z",
      "side": 1,
      "message": "This is a change in behavior.  Now this object can be constructed essentially \"dead\"",
      "range": {
        "startLine": 37,
        "startChar": 0,
        "endLine": 37,
        "endChar": 73
      },
      "revId": "cd614ec55eeb05d335db7326f98a838ee65efeb3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "af6fe925_6a4971be",
        "filename": "src/entity_manager/power_status_monitor.cpp",
        "patchSetId": 40
      },
      "lineNbr": 37,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-12-03T15:34:06Z",
      "side": 1,
      "message": "Added a separate parameter to the constructor which decides if we want to query the initial power state. So the behavior will be as before in the regular control flow.",
      "parentUuid": "d9dc1b91_e324805d",
      "range": {
        "startLine": 37,
        "startChar": 0,
        "endLine": 37,
        "endChar": 73
      },
      "revId": "cd614ec55eeb05d335db7326f98a838ee65efeb3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "78591d05_f88376ea",
        "filename": "src/entity_manager/power_status_monitor.cpp",
        "patchSetId": 40
      },
      "lineNbr": 37,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-05T16:07:40Z",
      "side": 1,
      "message": "I think I commented this somewhere else, but would prefer if we just query it in a separate call.",
      "parentUuid": "af6fe925_6a4971be",
      "range": {
        "startLine": 37,
        "startChar": 0,
        "endLine": 37,
        "endChar": 73
      },
      "revId": "cd614ec55eeb05d335db7326f98a838ee65efeb3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ddfe42e_3c0b5cb3",
        "filename": "test/entity_manager/test_em.hpp",
        "patchSetId": 40
      },
      "lineNbr": 80,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-02T22:54:56Z",
      "side": 1,
      "message": "This isn\u0027t a pattern that we\u0027d generally recommend.  If these are public (ie used in a unit test), make them public.",
      "range": {
        "startLine": 70,
        "startChar": 0,
        "endLine": 80,
        "endChar": 40
      },
      "revId": "cd614ec55eeb05d335db7326f98a838ee65efeb3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "af72535e_20a89ebd",
        "filename": "test/entity_manager/test_em.hpp",
        "patchSetId": 40
      },
      "lineNbr": 80,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-12-03T15:34:06Z",
      "side": 1,
      "message": "public / private is declaring some *intention* for the rest of `src/`.\n\nI don\u0027t believe we can just make everything public just because there is some unit test somewhere.\n\n`public` / `private` is not super useful in a testing context because they prevent us from asserting things we may want to know, without necessarily exposing them to actual API users.\n\nWhich is why i use `protected`/`public` and then promote that `protected` to `public` with that neat trick there.\n\n\n\u003e If these are public (ie used in a unit test), make them public.\n\nA unit test is not a regular API consumer, it\u0027s like a second class citizen. I try to avoid messing up things in `src/` for the sake of `test/` if i can avoid it.",
      "parentUuid": "5ddfe42e_3c0b5cb3",
      "range": {
        "startLine": 70,
        "startChar": 0,
        "endLine": 80,
        "endChar": 40
      },
      "revId": "cd614ec55eeb05d335db7326f98a838ee65efeb3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cb62603e_727d1acb",
        "filename": "test/entity_manager/test_em.hpp",
        "patchSetId": 40
      },
      "lineNbr": 80,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-04T20:44:59Z",
      "side": 1,
      "message": "\u003e public / private is declaring some *intention* for the rest of `src/`.\n\u003e \n\u003e I don\u0027t believe we can just make everything public just because there is some unit test somewhere.\n\nWe disagree, and that\u0027s fine.  I find this form hard to reason about, because I have to look at two different files to trace a unit test.\n\n\u003e \n\u003e `public` / `private` is not super useful in a testing context because they prevent us from asserting things we may want to know, without necessarily exposing them to actual API users.\n\u003e \n\u003e Which is why i use `protected`/`public` and then promote that `protected` to `public` with that neat trick there.\n\nRight, and \"neat trick\" is something that\u0027s in conflict with keeping code clear and concise, which is the #1 rule in the coding standard.\n\nThis specific pattern is covered pretty clearly in cpp core guidelines under the title \"Avoid protected data\" so I don\u0027t think I\u0027m off base here.  https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#rh-protected\n\n\u003e \n\u003e \n\u003e \u003e If these are public (ie used in a unit test), make them public.\n\u003e \n\u003e A unit test is not a regular API consumer, it\u0027s like a second class citizen. I try to avoid messing up things in `src/` for the sake of `test/` if i can avoid it.\n\nI think this statement is disputed better by cpp core guidelines than I can do, so please read it, and if you disagree with the advice, or think it doesn\u0027t apply, we can continue this conversation.",
      "parentUuid": "af72535e_20a89ebd",
      "range": {
        "startLine": 70,
        "startChar": 0,
        "endLine": 80,
        "endChar": 40
      },
      "revId": "cd614ec55eeb05d335db7326f98a838ee65efeb3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c8ea4150_a1394484",
        "filename": "test/entity_manager/test_em.hpp",
        "patchSetId": 40
      },
      "lineNbr": 80,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-12-05T13:55:01Z",
      "side": 1,
      "message": "I don\u0027t care as much. I don\u0027t think the core guidelines apply much to tests in that specific case since tests should not run into this problem of deep class hierarchies and complicated code.\n\nChanged it to use composition and not use \u0027protected\u0027 anymore. Added a few getter functions to `EntityManager` to be able to read what we need for testing.",
      "parentUuid": "cb62603e_727d1acb",
      "range": {
        "startLine": 70,
        "startChar": 0,
        "endLine": 80,
        "endChar": 40
      },
      "revId": "cd614ec55eeb05d335db7326f98a838ee65efeb3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "007450e7_c02caedf",
        "filename": "test/entity_manager/test_em.hpp",
        "patchSetId": 40
      },
      "lineNbr": 80,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-05T16:07:40Z",
      "side": 1,
      "message": "\u003e I don\u0027t think the core guidelines apply\n\nIf this is what you want to do, please make that argument at project level, and we\u0027ll see if we can get consensus on \"don\u0027t use cpp core guidelines for tests\". Right now there\u0027s no distinction made on test code.\n\nI\u0027m not comfortable with accepting clear violations to cpp core guidelines in this specific case.\n\n\u003e Changed it\n\nThank you.  Will readd to the review queue.",
      "parentUuid": "c8ea4150_a1394484",
      "range": {
        "startLine": 70,
        "startChar": 0,
        "endLine": 80,
        "endChar": 40
      },
      "revId": "cd614ec55eeb05d335db7326f98a838ee65efeb3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}