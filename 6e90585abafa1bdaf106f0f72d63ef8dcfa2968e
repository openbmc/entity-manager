{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "f56ef464_2cde8add",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-02-03T20:37:06Z",
      "side": 1,
      "message": "Mostly minor things, but I\u0027d like to see a patch series that shows where this changeset is going with this.  I suspect we\u0027re attempting to make this a non-global, but it\u0027s not obvious to me how this is accomplishing that, and I don\u0027t see any decedent patchsets.",
      "revId": "6e90585abafa1bdaf106f0f72d63ef8dcfa2968e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8210922f_e83ff889",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000546
      },
      "writtenOn": "2022-02-04T08:31:43Z",
      "side": 1,
      "message": "Thanks for your response.\n\nThe reason behind moving busMap from FruDevice.cpp which is declared as static and also wanted to use the busMap in FruUtils.cpp. Because, planning to move some common functions from FruDevice.cpp to FruUtils.cpp for fru and ipmb-fru daemons usage. \n\nBecause of this only, I moved busMap variable to Utility struct.\n\nThis is patch for moving getFRUInfo to FruUtils.cpp. \nhttps://gerrit.openbmc-project.xyz/c/openbmc/entity-manager/+/50921",
      "parentUuid": "f56ef464_2cde8add",
      "revId": "6e90585abafa1bdaf106f0f72d63ef8dcfa2968e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "719c116d_f30c8965",
        "filename": "include/Utils.hpp",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-02-03T20:37:06Z",
      "side": 1,
      "message": "Why create a struct with a single item in it?  Is there another patchset that makes this make more sense?",
      "range": {
        "startLine": 51,
        "startChar": 0,
        "endLine": 51,
        "endChar": 14
      },
      "revId": "6e90585abafa1bdaf106f0f72d63ef8dcfa2968e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0cb007a0_0fbd655c",
        "filename": "include/Utils.hpp",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-02-03T20:37:25Z",
      "side": 1,
      "message": "Also, \"Utility\" is almost definitely the wrong name for this type.",
      "parentUuid": "719c116d_f30c8965",
      "range": {
        "startLine": 51,
        "startChar": 0,
        "endLine": 51,
        "endChar": 14
      },
      "revId": "6e90585abafa1bdaf106f0f72d63ef8dcfa2968e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "43e1b1a6_adf54686",
        "filename": "include/Utils.hpp",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1000546
      },
      "writtenOn": "2022-02-04T08:31:43Z",
      "side": 1,
      "message": "Ack. I will update the struct name with FruUtil. \n\nCould you please suggest the struct name if it is not OK ?\n\nWe can add more variables in the struct if we wanted to use in multiple files.\n\nThis is the one of the patch for moving common functions to FruUtils.cpp\nhttps://gerrit.openbmc-project.xyz/c/openbmc/entity-manager/+/50921\n\n\nWill submit another series of patchset of moving functions to FruUtils.cpp to make use of fru deamon and ipmb-fru deamon.\n\nAfter that planning to push ipmb-fru related patches.",
      "parentUuid": "0cb007a0_0fbd655c",
      "range": {
        "startLine": 51,
        "startChar": 0,
        "endLine": 51,
        "endChar": 14
      },
      "revId": "6e90585abafa1bdaf106f0f72d63ef8dcfa2968e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d67d8a04_a483b578",
        "filename": "include/Utils.hpp",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1000546
      },
      "writtenOn": "2022-02-18T14:17:39Z",
      "side": 1,
      "message": "Updated the struct name as \"FruUtil\".",
      "parentUuid": "43e1b1a6_adf54686",
      "range": {
        "startLine": 51,
        "startChar": 0,
        "endLine": 51,
        "endChar": 14
      },
      "revId": "6e90585abafa1bdaf106f0f72d63ef8dcfa2968e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "df5753db_1b904392",
        "filename": "include/Utils.hpp",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2022-02-25T17:43:32Z",
      "side": 1,
      "message": "What would this structure be used for or to contain? FruUtil still is not very descriptive.",
      "parentUuid": "d67d8a04_a483b578",
      "range": {
        "startLine": 51,
        "startChar": 0,
        "endLine": 51,
        "endChar": 14
      },
      "revId": "6e90585abafa1bdaf106f0f72d63ef8dcfa2968e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e09a347c_9dc7b8a7",
        "filename": "include/Utils.hpp",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1000546
      },
      "writtenOn": "2022-02-28T06:08:20Z",
      "side": 1,
      "message": "This structure used to containing global variables used between fru and ipmb-fru deamons.  \n\nI will update Struct name as FruUtilGlobalVar.",
      "parentUuid": "df5753db_1b904392",
      "range": {
        "startLine": 51,
        "startChar": 0,
        "endLine": 51,
        "endChar": 14
      },
      "revId": "6e90585abafa1bdaf106f0f72d63ef8dcfa2968e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1778bf8a_60cb6648",
        "filename": "include/Utils.hpp",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2022-02-28T22:07:47Z",
      "side": 1,
      "message": "I have two questions:\n1. If it is FruUtil global var, why not go to FruUtil.hpp?\n2. What are the other data members or methods this Global struct will include? Code written as is does not need the struct.",
      "parentUuid": "e09a347c_9dc7b8a7",
      "range": {
        "startLine": 51,
        "startChar": 0,
        "endLine": 51,
        "endChar": 14
      },
      "revId": "6e90585abafa1bdaf106f0f72d63ef8dcfa2968e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7b033831_74854c6e",
        "filename": "include/Utils.hpp",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1000546
      },
      "writtenOn": "2022-03-01T11:06:34Z",
      "side": 1,
      "message": "1. Yes. we can move to FruUtil.hpp as well. \n\nThe reason I keep this struct in the Utils.hpp is, if any Global or Common Variable is used for this entire repo, we can use that struct, that\u0027s why I named it as Utility. \n\nLater, Thought it is mostly used in fru-deamon and ipmb-fru deamon applications. We renamed it as FruUtilGlobalVar.\n\n2. Initially, I declared BusMap variable as Global variable since it is needed for both fru and ipmb-fru applications. Based on Ed suggestion, not to use Global variable and Create a Utility Class for that. \n\nPlease refer this patch review comments.\nhttps://gerrit.openbmc-project.xyz/c/openbmc/entity-manager/+/47246\n\n\nBackground :\n\nWe have a multi host system and we wanted to read the host FRU details which is ipmb based connection from BMC. So, created the below patch for adding support to read/write the host FRU details from the ipmb interface.\n\nhttps://gerrit.openbmc-project.xyz/c/openbmc/entity-manager/+/39593 \n\nImplemented a separate daemon \"ipmb-fru\"  to handle this FRU read/write.\nThis \"ipmb-fru\" daemon uses the existing functions \"getFRUInfo\", \"updateFRUProperty\", \"addFruObjectToDbus\" of FruDevice.cpp. \n\nSo, moving these functions to FruUtils.cpp to make use of the both fru and ipmb-fru daemons. Also, moved some variables to common file to used by these two deamons. Refactored the existing FruDevice.cpp file.\nAlso, splitting these patches into small patches into small patches for easy review.\n\nPlease find the below patches for these implementations.\nhttps://gerrit.openbmc-project.xyz/c/openbmc/entity-manager/+/49418 \nhttps://gerrit.openbmc-project.xyz/c/openbmc/entity-manager/+/49205\nhttps://gerrit.openbmc-project.xyz/c/openbmc/entity-manager/+/49076\nhttps://gerrit.openbmc-project.xyz/c/openbmc/entity-manager/+/39592 \nhttps://gerrit.openbmc-project.xyz/c/openbmc/entity-manager/+/47246 \nhttps://gerrit.openbmc-project.xyz/c/openbmc/entity-manager/+/50894 \nhttps://gerrit.openbmc-project.xyz/c/openbmc/entity-manager/+/50921 \nhttps://gerrit.openbmc-project.xyz/c/openbmc/entity-manager/+/51555.\n\nso, we can add the variables \"powerIsOn\", \"unknownBusObjectCount\" to this Struct \"FruUtilGlobalVar\".  I have moved these variables to local variables by passing parameters to the functions. These variables also used by both fru and ipmb-fru deamons. \n\nCould you please suggest, if we can move the variables \"powerIsOn\", \"unknownBusObjectCount\" or any other common variable used by both fru an ipmb-fru applications. to  this \"FruUtilGlobalVar\" Struct.\n \nor, Please suggest, If we can move this \"busMap\" variable to Global variable and can remove this Struct.",
      "parentUuid": "1778bf8a_60cb6648",
      "range": {
        "startLine": 51,
        "startChar": 0,
        "endLine": 51,
        "endChar": 14
      },
      "revId": "6e90585abafa1bdaf106f0f72d63ef8dcfa2968e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9f432e32_57d5b8a4",
        "filename": "include/Utils.hpp",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2022-03-09T17:22:59Z",
      "side": 1,
      "message": "Thanks for the detailed background info and the list for the related series of patches. Please use the same Topic so they can be easily identified. \n\nSome of them already merged. For the rest of them, is there a dependency and should be reviewed in certain order?",
      "parentUuid": "7b033831_74854c6e",
      "range": {
        "startLine": 51,
        "startChar": 0,
        "endLine": 51,
        "endChar": 14
      },
      "revId": "6e90585abafa1bdaf106f0f72d63ef8dcfa2968e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2824a1ca_09d12484",
        "filename": "include/Utils.hpp",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2022-03-09T17:33:10Z",
      "side": 1,
      "message": "As for the variable, they don\u0027t seem to be logically related. I don\u0027t see the advantage of putting them into a generic named struct. I am ok with just leave them separated. Maybe add a namespace to avoid name collision, and add a little clarity.",
      "parentUuid": "9f432e32_57d5b8a4",
      "range": {
        "startLine": 51,
        "startChar": 0,
        "endLine": 51,
        "endChar": 14
      },
      "revId": "6e90585abafa1bdaf106f0f72d63ef8dcfa2968e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}