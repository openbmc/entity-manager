{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "definitions": {
        "IBMCFFPSConnector": {
            "title": "IBM Common Form Factor (CFF) Power Supply connectors",
            "description": [
                "A schema associating an I2C endpoint and a GPIO for IBM CFF",
                "power supplies.  In the entity-manager",
                "detector-configuration-reactor architecture, the daemon that",
                "supports IBM CFFPS is both a detector and reactor.  It probes",
                "the endpoints described by this schema (reactor) and publishes",
                "the CFFPS FRU information (detector)."
            ],
            "type": "object",
            "properties": {
                "Name": {
                    "type": "string"
                },
                "Type": {
                    "enum": [
                        "IBMCFFPSConnector"
                    ]
                },
                "I2CBus": {
                    "description": [
                        "The I2C address on which to probe for a CFFPS."
                    ],
                    "type": "number"
                },
                "I2CAddress": {
                    "description": [
                        "The I2C bus number on which to probe for a CFFPS."
                    ],
                    "type": "number"
                },
                "NamedPresenceGpio": {
                    "description": [
                        "The name of the GPIO to monitor that indicates CFFPS",
                        "plug state."
                    ],
                    "type": "string"
                }
            },
            "required": [
                "Name",
                "Type",
                "I2CBus",
                "I2CAddress",
                "NamedPresenceGpio"
            ]
        },
        "IBMCompatibleSystem": {
            "title": "System compatibility",
            "description": [
                "Devicetree-like compatibility strings for systems, where a",
                "'system' is roughly defined as the combination of a chassis and a",
                "mainboard.",
                "",
                "The strings should be used by applications to match the",
                "entity with entries or configuration in a hardware database.",
                "Strings appear in the list from most specific to most",
                "general.  This allows an entity to express compatibility with",
                "a family of similar systems, in turn allowing an application",
                "to match a variety of systems with a single",
                "IBMCompatibleSystem entry.",
                "",
                "The recommended entry format is 'manufacturer,model' where",
                "the manufacturer is a string describing the name of the",
                "manufacturer and model specifies the model number."

            ],
            "type": "object",
            "properties": {
                "Name": {
                    "type": "string"
                },
                "Type": {
                    "enum": [
                        "IBMCompatibleSystem"
                    ]
                },
                "Names": {
                    "type": "array",
                    "items": {
                        "enum": [
                            "ibm,rainier-2u",
                            "ibm,rainier-4u",
                            "ibm,rainier"
                        ]
                    }
                }
            },
            "required": [
                "Name",
                "Type",
                "Names"
            ]
        },
        "IBMAmbientTemp": {
            "title": "Ambient temperature rules",
            "description": [
                "Contains the values for IBM's ambient temperature ",
                "handling requirements, such as at which temperature ",
                "to send an EPOW alert to the host."
            ],
            "type": "object",
            "properties": {
                "Name": {
                    "type": "string"
                },
                "Type": {
                    "enum": [
                        "IBMAmbientTemp"
                    ]
                },
                "SensorName": {
                    "description": [
                        "The name of the ambient temp sensor to watch."
                    ],
                    "type": "string"
                },
                "PerfLoss":
                {
                    "type": "object",
                    "properties":
                    {
                        "Temp": {
                            "description": [
                                "The temperature at which there will be a ",
                                "performance loss."
                            ],
                            "type": "number"
                        },
                        "TempReset": {
                            "description": [
                                "The temperature, when crossed when decreasing, ",
                                "at which the performance loss stops."
                            ],
                            "type": "number"
                        }
                    },
                    "required": ["Temp", "TempReset"]
                },

                "Warning":
                {
                    "type": "object",
                    "properties":
                    {
                        "Temp": {
                            "description": [
                                "The temperature at which to create an event ",
                                "log to warn of a high ambient temperature."
                            ],
                            "type": "number"
                        },
                        "TempReset": {
                            "description": [
                                "The temperature, when crossed when decreasing, ",
                                "at which to create an event log indicating the ",
                                "warning has passed. "
                            ],
                            "type": "number"
                        }
                    },
                    "required": ["Temp", "TempReset"]
                },

                "EPOW3":
                {
                    "type": "object",
                    "properties":
                    {
                        "Temp": {
                            "description": [
                                "The temperature at which to send an EPOW3 ",
                                "alert and start a power off countdown. "
                            ],
                            "type": "number"
                        },
                        "TempReset": {
                            "description": [
                                "The temperature, when crossed when decreasing, ",
                                "at which to clear the EPOW3 alert and stop the ",
                                "countdown."
                            ],
                            "type": "number"
                        },
                        "Timer":
                        {
                            "description": [
                                "The number of seconds the power off timer ",
                                "will be set to."
                            ],
                            "type": "integer"
                        }
                    },
                    "required": ["Temp", "TempReset", "Timer"]
                },

                "EPOW4":
                {
                    "type": "object",
                    "properties":
                    {
                        "Temp": {
                            "description": [
                                "The temperature at which to send an EPOW4 ",
                                "alert and start an uncancelable power off ",
                                "countdown."
                            ],
                            "type": "number"
                        },
                        "Timer":
                        {
                            "description": [
                                "The number of seconds the power off timer ",
                                "will be set to."
                            ],
                            "type": "integer"
                        }
                    },
                    "required": ["Temp", "Timer"]
                }
            },
            "required": [
                "Name",
                "Type",
                "SensorName",
                "Warning",
                "EPOW3",
                "EPOW4"
            ]
        }
    }
}
